<!-- Footer -->
<footer class="md-footer">
  <!-- Link to previous and/or next page -->
  {% if "navigation.footer" in features %} {% if page.previous_page or
  page.next_page %} {% if page.meta and page.meta.hide %} {% set hidden =
  "hidden" if "footer" in page.meta.hide %} {% endif %}
  <nav
    class="md-footer__inner md-grid"
    aria-label="{{ lang.t('footer') }}"
    {{
    hidden
    }}
  >
    <!-- Link to previous page -->
    {% if page.previous_page %} {% set direction = lang.t("footer.previous") %}
    <a
      href="{{ page.previous_page.url | url }}"
      class="md-footer__link md-footer__link--prev"
      aria-label="{{ direction }}: {{ page.previous_page.title | e }}"
    >
      <div class="md-footer__button md-icon">
        {% set icon = config.theme.icon.previous or "material/arrow-left" %} {%
        include ".icons/" ~ icon ~ ".svg" %}
      </div>
      <div class="md-footer__title">
        <span class="md-footer__direction"> {{ direction }} </span>
        <div class="md-ellipsis">{{ page.previous_page.title }}</div>
      </div>
    </a>
    {% endif %}

    <!-- Link to next page -->
    {% if page.next_page %} {% set direction = lang.t("footer.next") %}
    <a
      href="{{ page.next_page.url | url }}"
      class="md-footer__link md-footer__link--next"
      aria-label="{{ direction }}: {{ page.next_page.title | e }}"
    >
      <div class="md-footer__title">
        <span class="md-footer__direction"> {{ direction }} </span>
        <div class="md-ellipsis">{{ page.next_page.title }}</div>
      </div>
      <div class="md-footer__button md-icon">
        {% set icon = config.theme.icon.next or "material/arrow-right" %} {%
        include ".icons/" ~ icon ~ ".svg" %}
      </div>
    </a>
    {% endif %}
  </nav>
  {% endif %} {% endif %}

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      {% include "partials/copyright.html" %}
      <div class="footer-visit-count">
        <span>本站访问量：</span>
        <script async src="//finicounter.eu.org/finicounter.js"></script>
        <span id="finicount_views"></span>
        &nbsp;|&nbsp;
        <a
          href="https://icp.gov.moe/?keyword=20230640"
          target="_blank"
          rel="noopener noreferrer"
          class="icp-link"
          >萌ICP备20230640号</a
        >
        &nbsp;|&nbsp;
        <span class="runtime-info">
          <span>本站已经运行</span>
          <span id="box1"></span>
        </span>
      </div>
      <script>
        function timingTime() {
          const start = "2022-10-20T00:00:00";
          const startTime = new Date(start).getTime();
          const now = Date.now();
          let diff = Math.floor((now - startTime) / 1000);
          const days = Math.floor(diff / 86400);
          diff %= 86400;
          const hours = Math.floor(diff / 3600);
          diff %= 3600;
          const minutes = Math.floor(diff / 60);
          const seconds = diff % 60;
          return `${days}天${hours}时${minutes}分${seconds}秒`;
        }
        setInterval(() => {
          const el = document.getElementById("box1");
          if (el) el.textContent = timingTime();
        }, 1000);
      </script>

      <style>
        .footer-visit-count {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          align-items: center;
          min-height: 40px;
          gap: 0.5em;
        }
        @media (max-width: 768px) {
          .runtime-info {
            display: none;
          }
          .icp-link {
            display: block;
            text-align: center;
          }
        }
      </style>

      {% if config.extra.social %} {% include "partials/social.html" %} {% endif
      %}
    </div>
  </div>
</footer>
