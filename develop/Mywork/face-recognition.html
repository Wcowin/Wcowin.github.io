
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="王科文(Wcowin)">
      
      
        <link rel="canonical" href="http://wcowin.work/develop/Mywork/face-recognition.html">
      
      
        <link rel="prev" href="mkdocs-wcowin.html">
      
      
        <link rel="next" href="face_compare.html">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="https://s2.loli.net/2024/04/06/yEOZavwMr6kTWhu.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>人脸识别系统 - Wcowin's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


  
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
  
  <style>.md-tag.md-tag--html{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m0 32 34.9 395.8L191.5 480l157.6-52.2L384 32zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1z"/></svg>');}.md-tag.md-tag--js{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 32v448h448V32zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6"/></svg>');}.md-tag.md-tag--css{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m480 32-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82z"/></svg>');}.md-tag.md-tag--Mkdocs{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');}</style>

    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra2.css">
    
      <link rel="stylesheet" href="../../stylesheets/link.css">
    
      <link rel="stylesheet" href="../../stylesheets/customize.css">
    
      <link rel="stylesheet" href="../../stylesheets/bannerSlider.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-29HZMNR0KG"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-29HZMNR0KG",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-29HZMNR0KG",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Wcowin&#39;s Blog" class="md-header__button md-logo" aria-label="Wcowin's Blog" data-md-component="logo">
      
  <img src="https://s1.imagehub.cc/images/2025/01/05/64eafdf8c27f482c7ecb83003d460d6a.webp" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wcowin's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              人脸识别系统
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="关闭自动模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="关闭自动模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="zh" class="md-select__link">
              简体中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/ZH-TW/" hreflang="zh-TW" class="md-select__link">
              China(TW)
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://www.wcowin.love/" hreflang="en" class="md-select__link">
              Overseas
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Wcowin/Wcowin.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Wcowin.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/indexblog.html" class="md-tabs__link">
          
  
    
  
  技术

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../index.html" class="md-tabs__link">
          
  
    
  
  开发

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../relax/index.html" class="md-tabs__link">
          
  
    
  
  闲聊

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../trip/index.html" class="md-tabs__link">
          
  
    
  
  旅行

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tag.html" class="md-tabs__link">
        
  
    
  
  标签

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../waline.html" class="md-tabs__link">
        
  
    
  
  留言板

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/link.html" class="md-tabs__link">
          
  
    
  
  朋友

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/index.html" class="md-tabs__link">
          
  
    
  
  博客

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/geren.html" class="md-tabs__link">
          
  
    
  
  关于

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Wcowin&#39;s Blog" class="md-nav__button md-logo" aria-label="Wcowin's Blog" data-md-component="logo">
      
  <img src="https://s1.imagehub.cc/images/2025/01/05/64eafdf8c27f482c7ecb83003d460d6a.webp" alt="logo">

    </a>
    Wcowin's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Wcowin/Wcowin.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Wcowin.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    技术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            技术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/indexblog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Webplay.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    好用/好玩网站分享
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/comkdocs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于 Mkdocs 的主题与站点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/ttq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    甜甜圈🍩代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/macsoft.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac/windows软件网站汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/yuque.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    语雀
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/TG.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telegram 群组、频道、机器人  汇总分享
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MKdocs教程
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            MKdocs教程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/mkfirst.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs教程前言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/mkdocs1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    利用mkdocs部署静态网页至GitHub pages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/mkdocs2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs部署静态网页至GitHub pages配置说明(mkdocs.yml)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/mkdocs3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    解决 mkdocs部署 Github Pages 自定义域名失效的问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/mkdocsblog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网站添加Mkdocs博客
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mkdocs美化
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            Mkdocs美化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/yuanjiaohua.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网页圆角化设计
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/mkdocs-wcowin1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs-Wcowin主题
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently added">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/mkcomments.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    添加评论系统(giscus为例)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/header.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    添加顶部公告栏
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/webtalknow.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    添加在线聊天
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/mkdocsfont.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    修改网站字体
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/shubiao.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS实现鼠标样式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/backgroud.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    背景特效
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/websitebeauty/time.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    为MKdocs添加文章修订时间戳
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    技术分享
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            技术分享
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/win.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Win11镜像下载、壁纸及KMS激活
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/jiaoben.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    实用脚本分享
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/tuchuang.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    搭建个人图床
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/ohmuzsh.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    oh-my-zsh 更新
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/googletranslate.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    解决谷歌翻译用不了的问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/aixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    爱心代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/matlabrose.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用Matlab画玫瑰百合花
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/kexue.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    科学上网
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/technique%20sharing/jisuanjibiannianshi.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机编年史
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    学术
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            学术
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/LaTeX.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LaTeX常用符号整理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://mirrors.sjtug.sjtu.edu.cn/ctan/info/install-latex-guide-zh-cn/install-latex-guide-zh-cn.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    一份简短的关于LATEX安装的介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    希腊字母总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/math.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_11_5" >
        
          
          <label class="md-nav__link" for="__nav_1_11_5" id="__nav_1_11_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数学竞赛
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11_5">
            <span class="md-nav__icon md-icon"></span>
            数学竞赛
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/Math/14.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十四届全国大学生数学竞赛(非数学类)初赛补赛详细解答
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/Math/13js.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十三届全国大学生数学竞赛(非数学类)决赛详细解答
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/diancichang.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    电磁场期末复习索引
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Academic/ddiancichang.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    电磁场期末公式总结(手写)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mac
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            Mac
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://mp.weixin.qq.com/s/qjSx09tqNq1KfVug2WtQFg" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac电脑安装软件报错解决办法汇总
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/Pd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PD虚拟机
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/sunhuai.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    提示 「“XXX”已损坏,无法打开。 您应该将它移到废纸篓。」「打不开 xxx,因为它来自身份不明的开发者」解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/shanchu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Macbook启动台顽固应用图标删除方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/homebrew.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homebrew国内如何自动安装(国内地址)(Mac & Linux)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/jiasugithub.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mac 无法访问 github 的解决办法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/Macesc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac的esc键失效的解决方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/Launchpad.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    启动台图标顺序错乱怎么办
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/jietu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac小技巧:去除系统截图名的日期后缀
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/xjiq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小小Mac技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/maccd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac隐藏彩蛋
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mac/kjj.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac 键盘快捷键
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    iPhone
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            iPhone
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/iphone/iphoneduozhanghao.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iphone多账号如何不频繁登录,双重认证
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/iphone/iphonexianmian.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    苹果iphone /iOS 限免网站合集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/iphone/iphonequchukaiping.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    苹果手机如何去除开屏广告
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_14" >
        
          
          <label class="md-nav__link" for="__nav_1_14" id="__nav_1_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    WIN
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_14">
            <span class="md-nav__icon md-icon"></span>
            WIN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Win/360.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    彻底卸载360安全卫士的方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Win/edgexz.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    三步卸载 Microsoft Edge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Win/winkjj.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    windows快捷键
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Win/anzhuodezixit.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安卓的子系统
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_15" >
        
          
          <label class="md-nav__link" for="__nav_1_15" id="__nav_1_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_15">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/py/python.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    将Python文件.py打包成.exe可执行程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/py/pip.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pip
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_16" >
        
          
          <label class="md-nav__link" for="__nav_1_16" id="__nav_1_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C语言
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_16">
            <span class="md-nav__icon md-icon"></span>
            C语言
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/C%20language/c.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/C%20language/C%2B%2B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    开发
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            开发
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mydevice.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    我的设备
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ChatGPT.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何注册ChatGPT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AI.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Markdown/markdown.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Markdown/MWeb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MWeb Pro
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git 实用技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" checked>
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    我的作品
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            我的作品
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mkdocs-wcowin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs-Wcowin主题
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently added">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    人脸识别系统
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently added">
    </span>
  

  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="face-recognition.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    人脸识别系统
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently added">
    </span>
  

  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      创建虚拟环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      我在原作者基础上做的优化版
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      效果
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ing" class="md-nav__link">
    <span class="md-ellipsis">
      持续优化ing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      参考文献
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="face_compare.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于讯飞人脸算法进行人脸比对
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="opencv.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于百度API和opencv的智能车牌识别程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="aizhiwu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    利用百度API进行植物识别
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    玩的设计
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    设计美学
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            设计美学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../designbeauty/db1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    唐·诺曼—情感设计的三个层次
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../designbeauty/my-to-desihn.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    我对设计的一些观点
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1024code.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1024code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lighthouse.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    利用Lighthouse测试网站性能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Github.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is Github
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vercel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何将 github pages 迁移到 vercel 上托管
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fenxiang.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大厂们的良心软件～
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mac.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    写给所有 Mac 用户的摸鱼指北
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kanyuanma.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    看源码才懂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../relax/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    闲聊
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            闲聊
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/tuijianyuedu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    推荐的Books
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/xiaomo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小米
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Apple.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apple
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wbb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    王冰冰♡
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    诗文
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            诗文
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/fqyb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    枫桥夜泊
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/twgx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    滕王阁序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/sjcnh.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    望江南·超然台作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/jg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    击鼓
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/yll.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    雨霖铃·秋别
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/shiwen/jcz.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    江城子·乙卯正月二十日夜记梦
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    日记
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            日记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7_1" >
        
          
          <label class="md-nav__link" for="__nav_3_7_1" id="__nav_3_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2024
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7_1">
            <span class="md-nav__icon md-icon"></span>
            2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/diary/2024/20240131.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20240131
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/diary/2024/20240218.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20240218
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/diary/2024/20231224.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    20231224
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数至十
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            数至十
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/wkwMath/6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    观影
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            观影
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Movie/tuijianfanju.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    推荐的番剧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Movie/tuijiandedianyin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    推荐的电影
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Movie/tuijiandsj.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    推荐的电视剧
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    杂文
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            杂文
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/mzdyl.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    毛主席语录选编
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/musong.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《目送》节选
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/dx.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    大学一个人吃饭很丢人吗？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/luv%20letter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    luv letter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/zhonggao.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    有哪些给男孩子在谈恋爱时的忠告？
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Essay/cat.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    哈基米🐈
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    程序人生
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            程序人生
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Manong/sigejieduan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《程序员成长历程的四个阶段》
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Manong/tuodanbukeneng.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《程序员脱单指南》
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Manong/wtf.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《程序员学习路线图》
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Manong/cxiaoaixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《printf("❤️\n》
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    写信
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            写信
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/letter1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第一封
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/letter2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第二封
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_12_3" >
        
          
          <label class="md-nav__link" for="__nav_3_12_3" id="__nav_3_12_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    情书
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12_3">
            <span class="md-nav__icon md-icon"></span>
            情书
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/sqrzszyz.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    朱生豪与宋清如
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(021)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(031)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(036)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(046)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao5.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(053)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Letter/luvletter/zhushenghao6.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    《朱生豪情书全集摘录》(055)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_13" >
        
          
          <label class="md-nav__link" for="__nav_3_13" id="__nav_3_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Game
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13">
            <span class="md-nav__icon md-icon"></span>
            Game
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Game/yuanshen.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    原神
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/Game/wzry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何玩好《王者荣耀》？
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/rudang.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    入党结业考试题总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/run.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    润学之为什么润
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/maozedong.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    让人说话，天塌不下来
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/jiaoyu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于教育革命的谈话
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../relax/kaimo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    程序猿神之楷模:一个人,一个网站,5.75亿美元卖掉
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../trip/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    旅行
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            旅行
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    重庆
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            重庆
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trip/InCQ/CQ.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    重庆旅游推荐路线
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trip/LH.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    我的家乡
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trip/Xian.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    西安
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tag.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标签
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../waline.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    留言板
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    朋友
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            朋友
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/link.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    友链
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/Mkdocs/linktech.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何给MKdocs添加友链
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    博客
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            博客
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2023.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2022.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2021.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/hello-world.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/%E7%BD%91%E7%AB%99%E6%9B%B4%E6%96%B0%E8%AE%B0%E5%BD%95.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网站更新记录
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    关于
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            关于
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/geren.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人简介
  </span>
  
    
  
  
    <span class="md-status md-status--new" title="Recently added">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/resume.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人简历
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/shengming.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    免责声明
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/Wcowin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github主页介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/web.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网站制作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/zcw.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    支持作者
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/biye.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    毕业之前值得去做的30件事
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/test.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    测试组件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/404.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    404公益页面
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9_10" >
        
          
          <label class="md-nav__link" for="__nav_9_10" id="__nav_9_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    年度总结
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_10">
            <span class="md-nav__icon md-icon"></span>
            年度总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/zongjie/2023.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/zongjie/2024.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/kaoyan.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    考研
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      基本原理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      创建虚拟环境
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      我在原作者基础上做的优化版
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      效果
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ing" class="md-nav__link">
    <span class="md-ellipsis">
      持续优化ing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      参考文献
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../tag.html#" class="md-tag">我的作品</a>
    
  
</nav>


  
    <a href="https://github.com/Wcowin/Wcowin.github.io/edit/main/docs/develop/Mywork/face-recognition.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Wcowin/Wcowin.github.io/raw/main/docs/develop/Mywork/face-recognition.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>人脸识别系统</h1>

<p><strong>原文：</strong></p>
<blockquote>
<p>Bilibili:  <a href="https://www.bilibili.com/video/BV1ZZ4y1S76N/" target="_blank">用300行代码实现人脸识别系统_哔哩哔哩_bilibili</a>    </p>
<p>CSDN博客：<a href="https://blog.csdn.net/ECHOSON/article/details/122404926" target="_blank">用300行Python代码实现一个人脸识别系统_dejahu的博客-CSDN博客</a></p>
</blockquote>
<h2 id="_1">基本原理<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>数据收集与预处理:<br />
首先，主要是借助dlib库，系统需要收集用于人脸识别的数据。这些数据包括已知身份的人脸图像，通常是系统的训练数据集。这些图像将用于创建人脸特征向量以及后续的人脸匹配。在收集数据后，对图像进行预处理，包括增强图像质量、调整大小和归一化等操作，以便进行更准确的识别。</p>
<p>人脸特征提取:<br />
对于每个人脸图像，系统使用人脸识别模型（通常是深度学习模型）来提取人脸的特征向量。这些特征向量是对人脸的独特表示，用于后续的比对和匹配。</p>
<p>人脸识别模型:<br />
通常，系统使用已经训练好的深度学习模型，例如基于卷积神经网络（CNN）的模型来进行人脸特征提取。这些模型在训练阶段学会了如何从人脸图像中提取有用的特征。</p>
<p>实时检测与识别:<br />
在实时检测过程中，系统捕捉视频流或图像帧，并使用人脸检测算法（例如Haar级联分类器或更高级的人脸检测器）来检测图像中的人脸位置。一旦检测到人脸，系统会提取该人脸的特征向量。</p>
<p>人脸匹配:<br />
提取的人脸特征向量与已知的人脸特征向量进行比对。这可以通过计算两个特征向量之间的相似度来实现。如果相似度超过预定的阈值（例如0.5），则认为是同一个人，否则被标记为“未知”。</p>
<p>结果显示:<br />
识别结果会显示在屏幕上，通常会在人脸周围绘制边界框，并显示人名或"Unknown"，表示未知身份。这些结果会实时更新，以便用户可以在视频流或图像中看到识别的人脸。</p>
<p>用户交互:<br />
系统通常提供用户交互界面，允许用户上传图像、开始或停止实时识别，并可能提供管理已知人脸数据的功能</p>
<p><strong>示意图</strong>
<a class="glightbox" href="https://vehicle4cm.oss-cn-beijing.aliyuncs.com/typoraimgs/image-20220109232309780.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20220109232309780" src="https://vehicle4cm.oss-cn-beijing.aliyuncs.com/typoraimgs/image-20220109232309780.png" /></a>  </p>
<h2 id="_2">创建虚拟环境<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>创建虚拟环境前先下载<a href="https://gitee.com/song-laogou/face_dlib_py37_42" target="_blank">源码</a>到本地。</p>
<p>需要使用到python3.7的虚拟环境，命令如下：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>face<span class="w"> </span><span class="nv">python</span><span class="o">==</span><span class="m">3</span>.7.3
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>conda<span class="w"> </span>activate<span class="w"> </span>face
</code></pre></div></td></tr></table></div></p>
<p>跑轮子（原作者<a href="https://mbd.pub/o/bread/ZJeYkpdt?next=pay&amp;author_name=肆十二&amp;author_avatar=https%3A%2F%2Fcdn.2zimu.com%2Fmbd_file_1679134971152.jpg">这里</a>是要钱的，轮子也是必要的，其实也有其他方法实现，但是<strong>我也付费了的</strong>，也请尊重知识付费）
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>pip<span class="w"> </span>install<span class="w"> </span>dlib-19.17.0-cp37-cp37m-win_amd64.whl
</code></pre></div></td></tr></table></div></p>
<p>安装必要的库
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div></td></tr></table></div></p>
<p>运行<br />
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>python<span class="w"> </span>文件名.py
</code></pre></div></td></tr></table></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>如果Anaconda都不会，移步：<br />
<a href="https://blog.csdn.net/ECHOSON/article/details/117220445" target="_blank">如何在pycharm中配置anaconda的虚拟环境</a> <br />
<a href="https://www.bilibili.com/video/BV15o4y127Rt/?vd_source=4c6908c51297ba49ec55863b71e0d24f" target="_blank">Python学习中Anaconda和Pycharm的正确打开方式</a></p>
</div>
<p>Pycharm/Vs code也不会的话，那…………下面的内容就不推荐阅读了</p>
<h2 id="_3">我在原作者基础上做的优化版<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>提高人脸识别精度的改进：</p>
<ol>
<li>
<p><strong>增加人脸图像的数量和多样性</strong>：在数据库中收集更多不同角度、不同光照条件下的人脸图像，以便算法可以更好地适应不同情况。</p>
</li>
<li>
<p><strong>使用更高级的人脸识别模型</strong>：你目前使用的是基于dlib的人脸识别模型，可以考虑使用更高级的模型，例如基于深度学习的人脸识别模型，如FaceNet、VGGFace等。这些模型在大规模人脸识别任务上表现良好。</p>
</li>
<li>
<p><strong>进行人脸图像预处理</strong>：你可以在上传人脸图像时进行一些预处理，例如：</p>
</li>
<li>图像增强：你已经在代码中实现了对比度增强，可以考虑添加其他增强技术，如直方图均衡化，以改善图像质量。</li>
<li>人脸对齐：确保上传的人脸图像都经过对齐，这有助于减少姿态和光照差异对识别的影响。</li>
</ol>
<p>（4. <strong>调整识别阈值</strong>：在代码中，你可以通过调整人脸匹配的阈值来控制识别的严格程度。较高的阈值会提高识别的准确性，但可能会导致漏识别。较低的阈值可能会增加误识别的风险。</p>
<ol>
<li>
<p><strong>处理多个人脸的情况</strong>：当前的代码处理多个人脸时，只返回最相似的一个人名，你可以考虑扩展代码以识别和标识多个人脸。</p>
</li>
<li>
<p><strong>引入人脸质量评估</strong>：在进行人脸匹配之前，可以使用人脸质量评估工具来评估图像中人脸的质量，然后选择性地处理质量较高的人脸，以提高准确性。</p>
</li>
<li>
<p><strong>在线学习和更新</strong>：允许用户根据新上传的人脸图像不断更新人脸数据库，以不断改进模型的性能。</p>
</li>
<li>
<p><strong>异常处理</strong>：在人脸检测和识别中，添加异常处理，以应对检测不到人脸或识别失败的情况，并提供用户友好的反馈。</p>
</li>
<li>
<p><strong>考虑隐私和安全性</strong>：确保你的人脸识别系统遵守隐私法规，并采取适当的安全措施，以防止滥用和数据泄漏。</p>
</li>
<li>
<p><strong>性能优化</strong>：对于实时人脸识别，优化代码以提高处理速度，以便更快地响应用户的请求。）</p>
</li>
</ol>
<p><strong>后面几条暂未实现</strong>，但是也增加了100多行代码</p>
<p>代码如下，已做注释：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">  1</a></span>
<span class="normal"><a href="#__codelineno-4-2">  2</a></span>
<span class="normal"><a href="#__codelineno-4-3">  3</a></span>
<span class="normal"><a href="#__codelineno-4-4">  4</a></span>
<span class="normal"><a href="#__codelineno-4-5">  5</a></span>
<span class="normal"><a href="#__codelineno-4-6">  6</a></span>
<span class="normal"><a href="#__codelineno-4-7">  7</a></span>
<span class="normal"><a href="#__codelineno-4-8">  8</a></span>
<span class="normal"><a href="#__codelineno-4-9">  9</a></span>
<span class="normal"><a href="#__codelineno-4-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-4-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-4-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-4-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-4-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-4-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-4-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-4-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-4-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-4-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-4-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-4-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-4-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-4-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-4-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-4-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-4-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-4-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-4-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-4-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-4-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-4-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-4-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-4-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-4-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-4-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-4-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-4-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-4-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-4-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-4-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-4-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-4-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-4-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-4-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-4-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-4-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-4-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-4-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-4-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-4-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-4-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-4-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-4-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-4-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-4-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-4-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-4-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-4-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-4-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-4-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-4-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-4-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-4-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-4-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-4-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-4-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-4-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-4-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-4-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-4-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-4-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-4-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-4-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-4-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-4-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-4-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-4-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-4-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-4-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-4-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-4-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-4-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-4-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-4-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-4-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-4-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-4-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-4-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-4-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-4-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-4-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-4-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-4-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-4-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-4-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-4-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-4-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-4-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-4-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-4-100">100</a></span>
<span class="normal"><a href="#__codelineno-4-101">101</a></span>
<span class="normal"><a href="#__codelineno-4-102">102</a></span>
<span class="normal"><a href="#__codelineno-4-103">103</a></span>
<span class="normal"><a href="#__codelineno-4-104">104</a></span>
<span class="normal"><a href="#__codelineno-4-105">105</a></span>
<span class="normal"><a href="#__codelineno-4-106">106</a></span>
<span class="normal"><a href="#__codelineno-4-107">107</a></span>
<span class="normal"><a href="#__codelineno-4-108">108</a></span>
<span class="normal"><a href="#__codelineno-4-109">109</a></span>
<span class="normal"><a href="#__codelineno-4-110">110</a></span>
<span class="normal"><a href="#__codelineno-4-111">111</a></span>
<span class="normal"><a href="#__codelineno-4-112">112</a></span>
<span class="normal"><a href="#__codelineno-4-113">113</a></span>
<span class="normal"><a href="#__codelineno-4-114">114</a></span>
<span class="normal"><a href="#__codelineno-4-115">115</a></span>
<span class="normal"><a href="#__codelineno-4-116">116</a></span>
<span class="normal"><a href="#__codelineno-4-117">117</a></span>
<span class="normal"><a href="#__codelineno-4-118">118</a></span>
<span class="normal"><a href="#__codelineno-4-119">119</a></span>
<span class="normal"><a href="#__codelineno-4-120">120</a></span>
<span class="normal"><a href="#__codelineno-4-121">121</a></span>
<span class="normal"><a href="#__codelineno-4-122">122</a></span>
<span class="normal"><a href="#__codelineno-4-123">123</a></span>
<span class="normal"><a href="#__codelineno-4-124">124</a></span>
<span class="normal"><a href="#__codelineno-4-125">125</a></span>
<span class="normal"><a href="#__codelineno-4-126">126</a></span>
<span class="normal"><a href="#__codelineno-4-127">127</a></span>
<span class="normal"><a href="#__codelineno-4-128">128</a></span>
<span class="normal"><a href="#__codelineno-4-129">129</a></span>
<span class="normal"><a href="#__codelineno-4-130">130</a></span>
<span class="normal"><a href="#__codelineno-4-131">131</a></span>
<span class="normal"><a href="#__codelineno-4-132">132</a></span>
<span class="normal"><a href="#__codelineno-4-133">133</a></span>
<span class="normal"><a href="#__codelineno-4-134">134</a></span>
<span class="normal"><a href="#__codelineno-4-135">135</a></span>
<span class="normal"><a href="#__codelineno-4-136">136</a></span>
<span class="normal"><a href="#__codelineno-4-137">137</a></span>
<span class="normal"><a href="#__codelineno-4-138">138</a></span>
<span class="normal"><a href="#__codelineno-4-139">139</a></span>
<span class="normal"><a href="#__codelineno-4-140">140</a></span>
<span class="normal"><a href="#__codelineno-4-141">141</a></span>
<span class="normal"><a href="#__codelineno-4-142">142</a></span>
<span class="normal"><a href="#__codelineno-4-143">143</a></span>
<span class="normal"><a href="#__codelineno-4-144">144</a></span>
<span class="normal"><a href="#__codelineno-4-145">145</a></span>
<span class="normal"><a href="#__codelineno-4-146">146</a></span>
<span class="normal"><a href="#__codelineno-4-147">147</a></span>
<span class="normal"><a href="#__codelineno-4-148">148</a></span>
<span class="normal"><a href="#__codelineno-4-149">149</a></span>
<span class="normal"><a href="#__codelineno-4-150">150</a></span>
<span class="normal"><a href="#__codelineno-4-151">151</a></span>
<span class="normal"><a href="#__codelineno-4-152">152</a></span>
<span class="normal"><a href="#__codelineno-4-153">153</a></span>
<span class="normal"><a href="#__codelineno-4-154">154</a></span>
<span class="normal"><a href="#__codelineno-4-155">155</a></span>
<span class="normal"><a href="#__codelineno-4-156">156</a></span>
<span class="normal"><a href="#__codelineno-4-157">157</a></span>
<span class="normal"><a href="#__codelineno-4-158">158</a></span>
<span class="normal"><a href="#__codelineno-4-159">159</a></span>
<span class="normal"><a href="#__codelineno-4-160">160</a></span>
<span class="normal"><a href="#__codelineno-4-161">161</a></span>
<span class="normal"><a href="#__codelineno-4-162">162</a></span>
<span class="normal"><a href="#__codelineno-4-163">163</a></span>
<span class="normal"><a href="#__codelineno-4-164">164</a></span>
<span class="normal"><a href="#__codelineno-4-165">165</a></span>
<span class="normal"><a href="#__codelineno-4-166">166</a></span>
<span class="normal"><a href="#__codelineno-4-167">167</a></span>
<span class="normal"><a href="#__codelineno-4-168">168</a></span>
<span class="normal"><a href="#__codelineno-4-169">169</a></span>
<span class="normal"><a href="#__codelineno-4-170">170</a></span>
<span class="normal"><a href="#__codelineno-4-171">171</a></span>
<span class="normal"><a href="#__codelineno-4-172">172</a></span>
<span class="normal"><a href="#__codelineno-4-173">173</a></span>
<span class="normal"><a href="#__codelineno-4-174">174</a></span>
<span class="normal"><a href="#__codelineno-4-175">175</a></span>
<span class="normal"><a href="#__codelineno-4-176">176</a></span>
<span class="normal"><a href="#__codelineno-4-177">177</a></span>
<span class="normal"><a href="#__codelineno-4-178">178</a></span>
<span class="normal"><a href="#__codelineno-4-179">179</a></span>
<span class="normal"><a href="#__codelineno-4-180">180</a></span>
<span class="normal"><a href="#__codelineno-4-181">181</a></span>
<span class="normal"><a href="#__codelineno-4-182">182</a></span>
<span class="normal"><a href="#__codelineno-4-183">183</a></span>
<span class="normal"><a href="#__codelineno-4-184">184</a></span>
<span class="normal"><a href="#__codelineno-4-185">185</a></span>
<span class="normal"><a href="#__codelineno-4-186">186</a></span>
<span class="normal"><a href="#__codelineno-4-187">187</a></span>
<span class="normal"><a href="#__codelineno-4-188">188</a></span>
<span class="normal"><a href="#__codelineno-4-189">189</a></span>
<span class="normal"><a href="#__codelineno-4-190">190</a></span>
<span class="normal"><a href="#__codelineno-4-191">191</a></span>
<span class="normal"><a href="#__codelineno-4-192">192</a></span>
<span class="normal"><a href="#__codelineno-4-193">193</a></span>
<span class="normal"><a href="#__codelineno-4-194">194</a></span>
<span class="normal"><a href="#__codelineno-4-195">195</a></span>
<span class="normal"><a href="#__codelineno-4-196">196</a></span>
<span class="normal"><a href="#__codelineno-4-197">197</a></span>
<span class="normal"><a href="#__codelineno-4-198">198</a></span>
<span class="normal"><a href="#__codelineno-4-199">199</a></span>
<span class="normal"><a href="#__codelineno-4-200">200</a></span>
<span class="normal"><a href="#__codelineno-4-201">201</a></span>
<span class="normal"><a href="#__codelineno-4-202">202</a></span>
<span class="normal"><a href="#__codelineno-4-203">203</a></span>
<span class="normal"><a href="#__codelineno-4-204">204</a></span>
<span class="normal"><a href="#__codelineno-4-205">205</a></span>
<span class="normal"><a href="#__codelineno-4-206">206</a></span>
<span class="normal"><a href="#__codelineno-4-207">207</a></span>
<span class="normal"><a href="#__codelineno-4-208">208</a></span>
<span class="normal"><a href="#__codelineno-4-209">209</a></span>
<span class="normal"><a href="#__codelineno-4-210">210</a></span>
<span class="normal"><a href="#__codelineno-4-211">211</a></span>
<span class="normal"><a href="#__codelineno-4-212">212</a></span>
<span class="normal"><a href="#__codelineno-4-213">213</a></span>
<span class="normal"><a href="#__codelineno-4-214">214</a></span>
<span class="normal"><a href="#__codelineno-4-215">215</a></span>
<span class="normal"><a href="#__codelineno-4-216">216</a></span>
<span class="normal"><a href="#__codelineno-4-217">217</a></span>
<span class="normal"><a href="#__codelineno-4-218">218</a></span>
<span class="normal"><a href="#__codelineno-4-219">219</a></span>
<span class="normal"><a href="#__codelineno-4-220">220</a></span>
<span class="normal"><a href="#__codelineno-4-221">221</a></span>
<span class="normal"><a href="#__codelineno-4-222">222</a></span>
<span class="normal"><a href="#__codelineno-4-223">223</a></span>
<span class="normal"><a href="#__codelineno-4-224">224</a></span>
<span class="normal"><a href="#__codelineno-4-225">225</a></span>
<span class="normal"><a href="#__codelineno-4-226">226</a></span>
<span class="normal"><a href="#__codelineno-4-227">227</a></span>
<span class="normal"><a href="#__codelineno-4-228">228</a></span>
<span class="normal"><a href="#__codelineno-4-229">229</a></span>
<span class="normal"><a href="#__codelineno-4-230">230</a></span>
<span class="normal"><a href="#__codelineno-4-231">231</a></span>
<span class="normal"><a href="#__codelineno-4-232">232</a></span>
<span class="normal"><a href="#__codelineno-4-233">233</a></span>
<span class="normal"><a href="#__codelineno-4-234">234</a></span>
<span class="normal"><a href="#__codelineno-4-235">235</a></span>
<span class="normal"><a href="#__codelineno-4-236">236</a></span>
<span class="normal"><a href="#__codelineno-4-237">237</a></span>
<span class="normal"><a href="#__codelineno-4-238">238</a></span>
<span class="normal"><a href="#__codelineno-4-239">239</a></span>
<span class="normal"><a href="#__codelineno-4-240">240</a></span>
<span class="normal"><a href="#__codelineno-4-241">241</a></span>
<span class="normal"><a href="#__codelineno-4-242">242</a></span>
<span class="normal"><a href="#__codelineno-4-243">243</a></span>
<span class="normal"><a href="#__codelineno-4-244">244</a></span>
<span class="normal"><a href="#__codelineno-4-245">245</a></span>
<span class="normal"><a href="#__codelineno-4-246">246</a></span>
<span class="normal"><a href="#__codelineno-4-247">247</a></span>
<span class="normal"><a href="#__codelineno-4-248">248</a></span>
<span class="normal"><a href="#__codelineno-4-249">249</a></span>
<span class="normal"><a href="#__codelineno-4-250">250</a></span>
<span class="normal"><a href="#__codelineno-4-251">251</a></span>
<span class="normal"><a href="#__codelineno-4-252">252</a></span>
<span class="normal"><a href="#__codelineno-4-253">253</a></span>
<span class="normal"><a href="#__codelineno-4-254">254</a></span>
<span class="normal"><a href="#__codelineno-4-255">255</a></span>
<span class="normal"><a href="#__codelineno-4-256">256</a></span>
<span class="normal"><a href="#__codelineno-4-257">257</a></span>
<span class="normal"><a href="#__codelineno-4-258">258</a></span>
<span class="normal"><a href="#__codelineno-4-259">259</a></span>
<span class="normal"><a href="#__codelineno-4-260">260</a></span>
<span class="normal"><a href="#__codelineno-4-261">261</a></span>
<span class="normal"><a href="#__codelineno-4-262">262</a></span>
<span class="normal"><a href="#__codelineno-4-263">263</a></span>
<span class="normal"><a href="#__codelineno-4-264">264</a></span>
<span class="normal"><a href="#__codelineno-4-265">265</a></span>
<span class="normal"><a href="#__codelineno-4-266">266</a></span>
<span class="normal"><a href="#__codelineno-4-267">267</a></span>
<span class="normal"><a href="#__codelineno-4-268">268</a></span>
<span class="normal"><a href="#__codelineno-4-269">269</a></span>
<span class="normal"><a href="#__codelineno-4-270">270</a></span>
<span class="normal"><a href="#__codelineno-4-271">271</a></span>
<span class="normal"><a href="#__codelineno-4-272">272</a></span>
<span class="normal"><a href="#__codelineno-4-273">273</a></span>
<span class="normal"><a href="#__codelineno-4-274">274</a></span>
<span class="normal"><a href="#__codelineno-4-275">275</a></span>
<span class="normal"><a href="#__codelineno-4-276">276</a></span>
<span class="normal"><a href="#__codelineno-4-277">277</a></span>
<span class="normal"><a href="#__codelineno-4-278">278</a></span>
<span class="normal"><a href="#__codelineno-4-279">279</a></span>
<span class="normal"><a href="#__codelineno-4-280">280</a></span>
<span class="normal"><a href="#__codelineno-4-281">281</a></span>
<span class="normal"><a href="#__codelineno-4-282">282</a></span>
<span class="normal"><a href="#__codelineno-4-283">283</a></span>
<span class="normal"><a href="#__codelineno-4-284">284</a></span>
<span class="normal"><a href="#__codelineno-4-285">285</a></span>
<span class="normal"><a href="#__codelineno-4-286">286</a></span>
<span class="normal"><a href="#__codelineno-4-287">287</a></span>
<span class="normal"><a href="#__codelineno-4-288">288</a></span>
<span class="normal"><a href="#__codelineno-4-289">289</a></span>
<span class="normal"><a href="#__codelineno-4-290">290</a></span>
<span class="normal"><a href="#__codelineno-4-291">291</a></span>
<span class="normal"><a href="#__codelineno-4-292">292</a></span>
<span class="normal"><a href="#__codelineno-4-293">293</a></span>
<span class="normal"><a href="#__codelineno-4-294">294</a></span>
<span class="normal"><a href="#__codelineno-4-295">295</a></span>
<span class="normal"><a href="#__codelineno-4-296">296</a></span>
<span class="normal"><a href="#__codelineno-4-297">297</a></span>
<span class="normal"><a href="#__codelineno-4-298">298</a></span>
<span class="normal"><a href="#__codelineno-4-299">299</a></span>
<span class="normal"><a href="#__codelineno-4-300">300</a></span>
<span class="normal"><a href="#__codelineno-4-301">301</a></span>
<span class="normal"><a href="#__codelineno-4-302">302</a></span>
<span class="normal"><a href="#__codelineno-4-303">303</a></span>
<span class="normal"><a href="#__codelineno-4-304">304</a></span>
<span class="normal"><a href="#__codelineno-4-305">305</a></span>
<span class="normal"><a href="#__codelineno-4-306">306</a></span>
<span class="normal"><a href="#__codelineno-4-307">307</a></span>
<span class="normal"><a href="#__codelineno-4-308">308</a></span>
<span class="normal"><a href="#__codelineno-4-309">309</a></span>
<span class="normal"><a href="#__codelineno-4-310">310</a></span>
<span class="normal"><a href="#__codelineno-4-311">311</a></span>
<span class="normal"><a href="#__codelineno-4-312">312</a></span>
<span class="normal"><a href="#__codelineno-4-313">313</a></span>
<span class="normal"><a href="#__codelineno-4-314">314</a></span>
<span class="normal"><a href="#__codelineno-4-315">315</a></span>
<span class="normal"><a href="#__codelineno-4-316">316</a></span>
<span class="normal"><a href="#__codelineno-4-317">317</a></span>
<span class="normal"><a href="#__codelineno-4-318">318</a></span>
<span class="normal"><a href="#__codelineno-4-319">319</a></span>
<span class="normal"><a href="#__codelineno-4-320">320</a></span>
<span class="normal"><a href="#__codelineno-4-321">321</a></span>
<span class="normal"><a href="#__codelineno-4-322">322</a></span>
<span class="normal"><a href="#__codelineno-4-323">323</a></span>
<span class="normal"><a href="#__codelineno-4-324">324</a></span>
<span class="normal"><a href="#__codelineno-4-325">325</a></span>
<span class="normal"><a href="#__codelineno-4-326">326</a></span>
<span class="normal"><a href="#__codelineno-4-327">327</a></span>
<span class="normal"><a href="#__codelineno-4-328">328</a></span>
<span class="normal"><a href="#__codelineno-4-329">329</a></span>
<span class="normal"><a href="#__codelineno-4-330">330</a></span>
<span class="normal"><a href="#__codelineno-4-331">331</a></span>
<span class="normal"><a href="#__codelineno-4-332">332</a></span>
<span class="normal"><a href="#__codelineno-4-333">333</a></span>
<span class="normal"><a href="#__codelineno-4-334">334</a></span>
<span class="normal"><a href="#__codelineno-4-335">335</a></span>
<span class="normal"><a href="#__codelineno-4-336">336</a></span>
<span class="normal"><a href="#__codelineno-4-337">337</a></span>
<span class="normal"><a href="#__codelineno-4-338">338</a></span>
<span class="normal"><a href="#__codelineno-4-339">339</a></span>
<span class="normal"><a href="#__codelineno-4-340">340</a></span>
<span class="normal"><a href="#__codelineno-4-341">341</a></span>
<span class="normal"><a href="#__codelineno-4-342">342</a></span>
<span class="normal"><a href="#__codelineno-4-343">343</a></span>
<span class="normal"><a href="#__codelineno-4-344">344</a></span>
<span class="normal"><a href="#__codelineno-4-345">345</a></span>
<span class="normal"><a href="#__codelineno-4-346">346</a></span>
<span class="normal"><a href="#__codelineno-4-347">347</a></span>
<span class="normal"><a href="#__codelineno-4-348">348</a></span>
<span class="normal"><a href="#__codelineno-4-349">349</a></span>
<span class="normal"><a href="#__codelineno-4-350">350</a></span>
<span class="normal"><a href="#__codelineno-4-351">351</a></span>
<span class="normal"><a href="#__codelineno-4-352">352</a></span>
<span class="normal"><a href="#__codelineno-4-353">353</a></span>
<span class="normal"><a href="#__codelineno-4-354">354</a></span>
<span class="normal"><a href="#__codelineno-4-355">355</a></span>
<span class="normal"><a href="#__codelineno-4-356">356</a></span>
<span class="normal"><a href="#__codelineno-4-357">357</a></span>
<span class="normal"><a href="#__codelineno-4-358">358</a></span>
<span class="normal"><a href="#__codelineno-4-359">359</a></span>
<span class="normal"><a href="#__codelineno-4-360">360</a></span>
<span class="normal"><a href="#__codelineno-4-361">361</a></span>
<span class="normal"><a href="#__codelineno-4-362">362</a></span>
<span class="normal"><a href="#__codelineno-4-363">363</a></span>
<span class="normal"><a href="#__codelineno-4-364">364</a></span>
<span class="normal"><a href="#__codelineno-4-365">365</a></span>
<span class="normal"><a href="#__codelineno-4-366">366</a></span>
<span class="normal"><a href="#__codelineno-4-367">367</a></span>
<span class="normal"><a href="#__codelineno-4-368">368</a></span>
<span class="normal"><a href="#__codelineno-4-369">369</a></span>
<span class="normal"><a href="#__codelineno-4-370">370</a></span>
<span class="normal"><a href="#__codelineno-4-371">371</a></span>
<span class="normal"><a href="#__codelineno-4-372">372</a></span>
<span class="normal"><a href="#__codelineno-4-373">373</a></span>
<span class="normal"><a href="#__codelineno-4-374">374</a></span>
<span class="normal"><a href="#__codelineno-4-375">375</a></span>
<span class="normal"><a href="#__codelineno-4-376">376</a></span>
<span class="normal"><a href="#__codelineno-4-377">377</a></span>
<span class="normal"><a href="#__codelineno-4-378">378</a></span>
<span class="normal"><a href="#__codelineno-4-379">379</a></span>
<span class="normal"><a href="#__codelineno-4-380">380</a></span>
<span class="normal"><a href="#__codelineno-4-381">381</a></span>
<span class="normal"><a href="#__codelineno-4-382">382</a></span>
<span class="normal"><a href="#__codelineno-4-383">383</a></span>
<span class="normal"><a href="#__codelineno-4-384">384</a></span>
<span class="normal"><a href="#__codelineno-4-385">385</a></span>
<span class="normal"><a href="#__codelineno-4-386">386</a></span>
<span class="normal"><a href="#__codelineno-4-387">387</a></span>
<span class="normal"><a href="#__codelineno-4-388">388</a></span>
<span class="normal"><a href="#__codelineno-4-389">389</a></span>
<span class="normal"><a href="#__codelineno-4-390">390</a></span>
<span class="normal"><a href="#__codelineno-4-391">391</a></span>
<span class="normal"><a href="#__codelineno-4-392">392</a></span>
<span class="normal"><a href="#__codelineno-4-393">393</a></span>
<span class="normal"><a href="#__codelineno-4-394">394</a></span>
<span class="normal"><a href="#__codelineno-4-395">395</a></span>
<span class="normal"><a href="#__codelineno-4-396">396</a></span>
<span class="normal"><a href="#__codelineno-4-397">397</a></span>
<span class="normal"><a href="#__codelineno-4-398">398</a></span>
<span class="normal"><a href="#__codelineno-4-399">399</a></span>
<span class="normal"><a href="#__codelineno-4-400">400</a></span>
<span class="normal"><a href="#__codelineno-4-401">401</a></span>
<span class="normal"><a href="#__codelineno-4-402">402</a></span>
<span class="normal"><a href="#__codelineno-4-403">403</a></span>
<span class="normal"><a href="#__codelineno-4-404">404</a></span>
<span class="normal"><a href="#__codelineno-4-405">405</a></span>
<span class="normal"><a href="#__codelineno-4-406">406</a></span>
<span class="normal"><a href="#__codelineno-4-407">407</a></span>
<span class="normal"><a href="#__codelineno-4-408">408</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtWidgets</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtCore</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtWidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">QFileDialog</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QDockWidget</span><span class="p">,</span> <span class="n">QListWidget</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtGui</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">face_recognition</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">face_recognition_models</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">locale</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;zh_CN.UTF-8&#39;</span><span class="p">)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="k">def</span><span class="w"> </span><span class="nf">enhance_image_quality</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>    <span class="c1"># 增强对比度</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">1.5</span>  <span class="c1"># 调整对比度的参数</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>    <span class="n">beta</span> <span class="o">=</span> <span class="mi">30</span>    <span class="c1"># 调整亮度的参数</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a>    <span class="n">enhanced_image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">convertScaleAbs</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="n">beta</span><span class="p">)</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a>    <span class="k">return</span> <span class="n">enhanced_image</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a>
<a id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="c1"># 窗口主类</span>
<a id="__codelineno-4-25" name="__codelineno-4-25"></a>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="k">class</span><span class="w"> </span><span class="nc">MainWindow</span><span class="p">(</span><span class="n">QTabWidget</span><span class="p">):</span>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a>    <span class="c1"># 基本配置不动，然后只动第三个界面</span>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a>        <span class="c1"># 初始化设置</span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;实时人脸识别系统&#39;</span><span class="p">)</span>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">1100</span><span class="p">,</span> <span class="mi">650</span><span class="p">)</span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;UI_images/faxian.png&quot;</span><span class="p">))</span>
<a id="__codelineno-4-34" name="__codelineno-4-34"></a>        <span class="c1"># 要上传的图片路径</span>
<a id="__codelineno-4-35" name="__codelineno-4-35"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-4-36" name="__codelineno-4-36"></a>        <span class="c1"># 要检测的图片名称</span>
<a id="__codelineno-4-37" name="__codelineno-4-37"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">input_fname</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-4-38" name="__codelineno-4-38"></a>        <span class="c1"># 要检测的视频名称</span>
<a id="__codelineno-4-39" name="__codelineno-4-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-4-40" name="__codelineno-4-40"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-4-41" name="__codelineno-4-41"></a>        <span class="c1"># 初始化中止事件</span>
<a id="__codelineno-4-42" name="__codelineno-4-42"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
<a id="__codelineno-4-43" name="__codelineno-4-43"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-4-44" name="__codelineno-4-44"></a>        <span class="c1"># 初始化人脸向量</span>
<a id="__codelineno-4-45" name="__codelineno-4-45"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initFaces</span><span class="p">()</span>
<a id="__codelineno-4-46" name="__codelineno-4-46"></a>        <span class="c1"># 加载lbp检测器</span>
<a id="__codelineno-4-47" name="__codelineno-4-47"></a>        <span class="c1"># 加载人脸识别模型</span>
<a id="__codelineno-4-48" name="__codelineno-4-48"></a>        <span class="c1"># 初始化界面</span>
<a id="__codelineno-4-49" name="__codelineno-4-49"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
<a id="__codelineno-4-50" name="__codelineno-4-50"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-4-51" name="__codelineno-4-51"></a>
<a id="__codelineno-4-52" name="__codelineno-4-52"></a>
<a id="__codelineno-4-53" name="__codelineno-4-53"></a>
<a id="__codelineno-4-54" name="__codelineno-4-54"></a>
<a id="__codelineno-4-55" name="__codelineno-4-55"></a>    <span class="c1"># 初始化数据库的人脸</span>
<a id="__codelineno-4-56" name="__codelineno-4-56"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">initFaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-57" name="__codelineno-4-57"></a>        <span class="c1"># 存储知道人名列表</span>
<a id="__codelineno-4-58" name="__codelineno-4-58"></a>        <span class="n">known_names</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-59" name="__codelineno-4-59"></a>        <span class="c1"># 存储知道的特征值</span>
<a id="__codelineno-4-60" name="__codelineno-4-60"></a>        <span class="n">known_encodings</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-61" name="__codelineno-4-61"></a>        <span class="c1"># 遍历存储人脸图片的文件夹</span>
<a id="__codelineno-4-62" name="__codelineno-4-62"></a>        <span class="n">db_folder</span> <span class="o">=</span> <span class="s2">&quot;images/db_faces&quot;</span>
<a id="__codelineno-4-63" name="__codelineno-4-63"></a>        <span class="n">face_imgs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">db_folder</span><span class="p">)</span>
<a id="__codelineno-4-64" name="__codelineno-4-64"></a>        <span class="c1"># 加载更复杂的人脸识别模型</span>
<a id="__codelineno-4-65" name="__codelineno-4-65"></a>        <span class="n">face_rec_model</span> <span class="o">=</span> <span class="s2">&quot;cnn&quot;</span>  <span class="c1"># 使用深度学习模型，通常更准确</span>
<a id="__codelineno-4-66" name="__codelineno-4-66"></a>        <span class="c1"># 遍历图片，将人脸图片转化为向量</span>
<a id="__codelineno-4-67" name="__codelineno-4-67"></a>        <span class="k">for</span> <span class="n">face_img</span> <span class="ow">in</span> <span class="n">face_imgs</span><span class="p">:</span>
<a id="__codelineno-4-68" name="__codelineno-4-68"></a>            <span class="n">face_img_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db_folder</span><span class="p">,</span> <span class="n">face_img</span><span class="p">)</span>
<a id="__codelineno-4-69" name="__codelineno-4-69"></a>            <span class="n">face_name</span> <span class="o">=</span> <span class="n">face_img</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-70" name="__codelineno-4-70"></a>            <span class="n">load_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="n">face_img_path</span><span class="p">)</span>  <span class="c1"># 加载图片</span>
<a id="__codelineno-4-71" name="__codelineno-4-71"></a>            <span class="n">image_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">load_image</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">face_rec_model</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># 获得128维特征值</span>
<a id="__codelineno-4-72" name="__codelineno-4-72"></a>            <span class="n">known_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_name</span><span class="p">)</span>  <span class="c1"># 添加到人名的列表</span>
<a id="__codelineno-4-73" name="__codelineno-4-73"></a>            <span class="n">known_encodings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_face_encoding</span><span class="p">)</span>  <span class="c1"># 添加到向量的列表</span>
<a id="__codelineno-4-74" name="__codelineno-4-74"></a>        <span class="k">return</span> <span class="n">known_names</span><span class="p">,</span> <span class="n">known_encodings</span>
<a id="__codelineno-4-75" name="__codelineno-4-75"></a>
<a id="__codelineno-4-76" name="__codelineno-4-76"></a>    <span class="c1"># 在 up_img 函数中添加图像预处理步骤</span>
<a id="__codelineno-4-77" name="__codelineno-4-77"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">up_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-78" name="__codelineno-4-78"></a>        <span class="c1"># 打开文件选择框</span>
<a id="__codelineno-4-79" name="__codelineno-4-79"></a>        <span class="n">openfile_name</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;选择文件&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Image files(*.jpg , *.png)&#39;</span><span class="p">)</span>
<a id="__codelineno-4-80" name="__codelineno-4-80"></a>        <span class="c1"># 获取上传的文件名称</span>
<a id="__codelineno-4-81" name="__codelineno-4-81"></a>        <span class="n">img_name</span> <span class="o">=</span> <span class="n">openfile_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-82" name="__codelineno-4-82"></a>        <span class="k">if</span> <span class="n">img_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
<a id="__codelineno-4-83" name="__codelineno-4-83"></a>            <span class="k">pass</span>
<a id="__codelineno-4-84" name="__codelineno-4-84"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-85" name="__codelineno-4-85"></a>            <span class="c1"># 上传之后显示并做归一化处理</span>
<a id="__codelineno-4-86" name="__codelineno-4-86"></a>            <span class="n">src_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_name</span><span class="p">)</span>
<a id="__codelineno-4-87" name="__codelineno-4-87"></a>            <span class="n">src_img</span> <span class="o">=</span> <span class="n">enhance_image_quality</span><span class="p">(</span><span class="n">src_img</span><span class="p">)</span>  <span class="c1"># 增强图像质量</span>
<a id="__codelineno-4-88" name="__codelineno-4-88"></a>            <span class="n">src_img_height</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-89" name="__codelineno-4-89"></a>            <span class="n">src_img_width</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-4-90" name="__codelineno-4-90"></a>            <span class="n">target_img_height</span> <span class="o">=</span> <span class="mi">400</span>
<a id="__codelineno-4-91" name="__codelineno-4-91"></a>            <span class="n">ratio</span> <span class="o">=</span> <span class="n">target_img_height</span> <span class="o">/</span> <span class="n">src_img_height</span>
<a id="__codelineno-4-92" name="__codelineno-4-92"></a>            <span class="n">target_img_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">src_img_width</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">)</span>
<a id="__codelineno-4-93" name="__codelineno-4-93"></a>            <span class="c1"># 将图片统一处理到高为400的图片，方便在界面上显示</span>
<a id="__codelineno-4-94" name="__codelineno-4-94"></a>            <span class="n">target_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">src_img</span><span class="p">,</span> <span class="p">(</span><span class="n">target_img_width</span><span class="p">,</span> <span class="n">target_img_height</span><span class="p">))</span>
<a id="__codelineno-4-95" name="__codelineno-4-95"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">,</span> <span class="n">target_img</span><span class="p">)</span>
<a id="__codelineno-4-96" name="__codelineno-4-96"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-4-97" name="__codelineno-4-97"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span> <span class="o">=</span> <span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span>
<a id="__codelineno-4-98" name="__codelineno-4-98"></a>
<a id="__codelineno-4-99" name="__codelineno-4-99"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_local</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-100" name="__codelineno-4-100"></a>        <span class="c1"># 选择录像文件进行读取</span>
<a id="__codelineno-4-101" name="__codelineno-4-101"></a>        <span class="n">mp4_filename</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-4-102" name="__codelineno-4-102"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">mp4_filename</span>
<a id="__codelineno-4-103" name="__codelineno-4-103"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
<a id="__codelineno-4-104" name="__codelineno-4-104"></a>
<a id="__codelineno-4-105" name="__codelineno-4-105"></a>        <span class="c1"># 设置摄像头分辨率</span>
<a id="__codelineno-4-106" name="__codelineno-4-106"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_WIDTH</span><span class="p">,</span> <span class="mi">640</span><span class="p">)</span>
<a id="__codelineno-4-107" name="__codelineno-4-107"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_HEIGHT</span><span class="p">,</span> <span class="mi">480</span><span class="p">)</span>
<a id="__codelineno-4-108" name="__codelineno-4-108"></a>
<a id="__codelineno-4-109" name="__codelineno-4-109"></a>        <span class="n">th</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_video</span><span class="p">)</span>
<a id="__codelineno-4-110" name="__codelineno-4-110"></a>        <span class="n">th</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-4-111" name="__codelineno-4-111"></a>
<a id="__codelineno-4-112" name="__codelineno-4-112"></a>
<a id="__codelineno-4-113" name="__codelineno-4-113"></a>    <span class="c1"># 初始化界面</span>
<a id="__codelineno-4-114" name="__codelineno-4-114"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-115" name="__codelineno-4-115"></a>        <span class="c1"># 设置字体</span>
<a id="__codelineno-4-116" name="__codelineno-4-116"></a>        <span class="n">font_v</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<a id="__codelineno-4-117" name="__codelineno-4-117"></a>        <span class="n">generally_font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-4-118" name="__codelineno-4-118"></a>        <span class="c1"># 图片检测</span>
<a id="__codelineno-4-119" name="__codelineno-4-119"></a>        <span class="n">img_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-4-120" name="__codelineno-4-120"></a>        <span class="n">img_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-4-121" name="__codelineno-4-121"></a>        <span class="n">img_f_title</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;上传人脸图像&quot;</span><span class="p">)</span>  <span class="c1"># 设置标题</span>
<a id="__codelineno-4-122" name="__codelineno-4-122"></a>        <span class="n">img_f_title</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>  <span class="c1"># 设置标题位置为居中</span>
<a id="__codelineno-4-123" name="__codelineno-4-123"></a>        <span class="n">img_f_title</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>  <span class="c1"># 设置标题字体大小</span>
<a id="__codelineno-4-124" name="__codelineno-4-124"></a>        <span class="c1"># todo 要上传的人脸图像</span>
<a id="__codelineno-4-125" name="__codelineno-4-125"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>  <span class="c1"># 设置第一个界面上要显示的图片</span>
<a id="__codelineno-4-126" name="__codelineno-4-126"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/zhuye.jpeg&quot;</span><span class="p">))</span>  <span class="c1"># 初始化要显示的图片</span>
<a id="__codelineno-4-127" name="__codelineno-4-127"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>  <span class="c1"># 设置图片居中</span>
<a id="__codelineno-4-128" name="__codelineno-4-128"></a>
<a id="__codelineno-4-129" name="__codelineno-4-129"></a>        <span class="c1"># 创建一个表单布局来包含提示文本和人名输入框</span>
<a id="__codelineno-4-130" name="__codelineno-4-130"></a>        <span class="n">form_layout</span> <span class="o">=</span> <span class="n">QFormLayout</span><span class="p">()</span>
<a id="__codelineno-4-131" name="__codelineno-4-131"></a>        <span class="n">name_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;请输入姓名: &quot;</span><span class="p">)</span>  <span class="c1"># 添加提示文本</span>
<a id="__codelineno-4-132" name="__codelineno-4-132"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">face_name</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>  <span class="c1"># 设置当前图片对应的人名</span>
<a id="__codelineno-4-133" name="__codelineno-4-133"></a>        <span class="n">form_layout</span><span class="o">.</span><span class="n">addRow</span><span class="p">(</span><span class="n">name_label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">face_name</span><span class="p">)</span>  <span class="c1"># 将提示文本和输入框添加到表单布局</span>
<a id="__codelineno-4-134" name="__codelineno-4-134"></a>
<a id="__codelineno-4-135" name="__codelineno-4-135"></a>        <span class="c1"># 创建一个水平布局来包含&quot;上传图片&quot;按钮和&quot;开始上传&quot;按钮</span>
<a id="__codelineno-4-136" name="__codelineno-4-136"></a>        <span class="n">buttons_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
<a id="__codelineno-4-137" name="__codelineno-4-137"></a>        <span class="n">img_up_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;上传图片&quot;</span><span class="p">)</span>  <span class="c1"># 设置上传图片的按钮</span>
<a id="__codelineno-4-138" name="__codelineno-4-138"></a>        <span class="n">img_det_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;开始上传&quot;</span><span class="p">)</span>  <span class="c1"># 设置开始上传的按钮</span>
<a id="__codelineno-4-139" name="__codelineno-4-139"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img</span><span class="p">)</span>  <span class="c1"># 联系到相关函数</span>
<a id="__codelineno-4-140" name="__codelineno-4-140"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_db_img</span><span class="p">)</span>  <span class="c1"># 连接到相关函数</span>
<a id="__codelineno-4-141" name="__codelineno-4-141"></a>
<a id="__codelineno-4-142" name="__codelineno-4-142"></a>        <span class="c1"># 设置组件的样式</span>
<a id="__codelineno-4-143" name="__codelineno-4-143"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">generally_font</span><span class="p">)</span>
<a id="__codelineno-4-144" name="__codelineno-4-144"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">generally_font</span><span class="p">)</span>
<a id="__codelineno-4-145" name="__codelineno-4-145"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-4-146" name="__codelineno-4-146"></a>                                <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-4-147" name="__codelineno-4-147"></a>                                <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-4-148" name="__codelineno-4-148"></a>                                <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-4-149" name="__codelineno-4-149"></a>                                <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-4-150" name="__codelineno-4-150"></a>                                <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-4-151" name="__codelineno-4-151"></a>                                <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-4-152" name="__codelineno-4-152"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-4-153" name="__codelineno-4-153"></a>                                <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-4-154" name="__codelineno-4-154"></a>                                <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-4-155" name="__codelineno-4-155"></a>                                <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-4-156" name="__codelineno-4-156"></a>                                <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-4-157" name="__codelineno-4-157"></a>                                <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-4-158" name="__codelineno-4-158"></a>                                <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-4-159" name="__codelineno-4-159"></a>
<a id="__codelineno-4-160" name="__codelineno-4-160"></a>        <span class="c1"># 将组件添加到布局上，然后设置主要的widget为当前的布局</span>
<a id="__codelineno-4-161" name="__codelineno-4-161"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_f_title</span><span class="p">)</span>
<a id="__codelineno-4-162" name="__codelineno-4-162"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="p">)</span>
<a id="__codelineno-4-163" name="__codelineno-4-163"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">form_layout</span><span class="p">)</span>  <span class="c1"># 添加表单布局到垂直布局</span>
<a id="__codelineno-4-164" name="__codelineno-4-164"></a>        <span class="n">buttons_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_up_btn</span><span class="p">)</span>  <span class="c1"># 添加按钮到水平布局</span>
<a id="__codelineno-4-165" name="__codelineno-4-165"></a>        <span class="n">buttons_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_det_btn</span><span class="p">)</span>  <span class="c1"># 添加按钮到水平布局</span>
<a id="__codelineno-4-166" name="__codelineno-4-166"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">buttons_layout</span><span class="p">)</span>  <span class="c1"># 添加水平布局到垂直布局</span>
<a id="__codelineno-4-167" name="__codelineno-4-167"></a>        <span class="n">img_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">img_layout</span><span class="p">)</span>
<a id="__codelineno-4-168" name="__codelineno-4-168"></a>
<a id="__codelineno-4-169" name="__codelineno-4-169"></a>
<a id="__codelineno-4-170" name="__codelineno-4-170"></a>
<a id="__codelineno-4-171" name="__codelineno-4-171"></a>
<a id="__codelineno-4-172" name="__codelineno-4-172"></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-4-173" name="__codelineno-4-173"></a><span class="sd">        *** 4. 视频识别界面 ***</span>
<a id="__codelineno-4-174" name="__codelineno-4-174"></a><span class="sd">        &#39;&#39;&#39;</span>
<a id="__codelineno-4-175" name="__codelineno-4-175"></a>        <span class="n">video_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-4-176" name="__codelineno-4-176"></a>        <span class="n">video_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-4-177" name="__codelineno-4-177"></a>        <span class="c1"># 设置视频识别区的标题</span>
<a id="__codelineno-4-178" name="__codelineno-4-178"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;摄像头/视频识别区&quot;</span><span class="p">)</span>
<a id="__codelineno-4-179" name="__codelineno-4-179"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-4-180" name="__codelineno-4-180"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-4-181" name="__codelineno-4-181"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-4-182" name="__codelineno-4-182"></a>        <span class="c1"># 设置显示的界面</span>
<a id="__codelineno-4-183" name="__codelineno-4-183"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
<a id="__codelineno-4-184" name="__codelineno-4-184"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-4-185" name="__codelineno-4-185"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;人脸检测摄像头&quot;</span><span class="p">)</span>
<a id="__codelineno-4-186" name="__codelineno-4-186"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-4-187" name="__codelineno-4-187"></a>        <span class="c1"># 设置打开摄像头的按钮和样式</span>
<a id="__codelineno-4-188" name="__codelineno-4-188"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-4-189" name="__codelineno-4-189"></a>                                          <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-4-190" name="__codelineno-4-190"></a>                                          <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-4-191" name="__codelineno-4-191"></a>                                          <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-4-192" name="__codelineno-4-192"></a>                                          <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-4-193" name="__codelineno-4-193"></a>                                          <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-4-194" name="__codelineno-4-194"></a>                                          <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-4-195" name="__codelineno-4-195"></a>        <span class="c1"># 设置选择文件的的按钮和样式</span>
<a id="__codelineno-4-196" name="__codelineno-4-196"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;开始识别（选择文件）&quot;</span><span class="p">)</span>
<a id="__codelineno-4-197" name="__codelineno-4-197"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-4-198" name="__codelineno-4-198"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-4-199" name="__codelineno-4-199"></a>                                    <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-4-200" name="__codelineno-4-200"></a>                                    <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-4-201" name="__codelineno-4-201"></a>                                    <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-4-202" name="__codelineno-4-202"></a>                                    <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-4-203" name="__codelineno-4-203"></a>                                    <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-4-204" name="__codelineno-4-204"></a>                                    <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-4-205" name="__codelineno-4-205"></a>        <span class="c1"># 设置结束演示的按钮和样式</span>
<a id="__codelineno-4-206" name="__codelineno-4-206"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;结束检测&quot;</span><span class="p">)</span>
<a id="__codelineno-4-207" name="__codelineno-4-207"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-4-208" name="__codelineno-4-208"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-4-209" name="__codelineno-4-209"></a>                                     <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-4-210" name="__codelineno-4-210"></a>                                     <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-4-211" name="__codelineno-4-211"></a>                                     <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-4-212" name="__codelineno-4-212"></a>                                     <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-4-213" name="__codelineno-4-213"></a>                                     <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-4-214" name="__codelineno-4-214"></a>                                     <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-4-215" name="__codelineno-4-215"></a>        <span class="c1"># 将组件添加到布局上</span>
<a id="__codelineno-4-216" name="__codelineno-4-216"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_local</span><span class="p">)</span>
<a id="__codelineno-4-217" name="__codelineno-4-217"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
<a id="__codelineno-4-218" name="__codelineno-4-218"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
<a id="__codelineno-4-219" name="__codelineno-4-219"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-4-220" name="__codelineno-4-220"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="p">)</span>
<a id="__codelineno-4-221" name="__codelineno-4-221"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="p">)</span>
<a id="__codelineno-4-222" name="__codelineno-4-222"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-4-223" name="__codelineno-4-223"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="p">)</span>
<a id="__codelineno-4-224" name="__codelineno-4-224"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="p">)</span>
<a id="__codelineno-4-225" name="__codelineno-4-225"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="p">)</span>
<a id="__codelineno-4-226" name="__codelineno-4-226"></a>        <span class="n">video_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">video_layout</span><span class="p">)</span>
<a id="__codelineno-4-227" name="__codelineno-4-227"></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-4-228" name="__codelineno-4-228"></a><span class="sd">        *** 5. 关于界面 ***</span>
<a id="__codelineno-4-229" name="__codelineno-4-229"></a><span class="sd">        &#39;&#39;&#39;</span>
<a id="__codelineno-4-230" name="__codelineno-4-230"></a>        <span class="n">about_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-4-231" name="__codelineno-4-231"></a>        <span class="n">about_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-4-232" name="__codelineno-4-232"></a>        <span class="n">about_title</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;欢迎使用人脸检测系统</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># todo 修改欢迎词语</span>
<a id="__codelineno-4-233" name="__codelineno-4-233"></a>        <span class="n">about_title</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>
<a id="__codelineno-4-234" name="__codelineno-4-234"></a>        <span class="n">about_title</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-4-235" name="__codelineno-4-235"></a>        <span class="n">about_img</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
<a id="__codelineno-4-236" name="__codelineno-4-236"></a>        <span class="n">about_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s1">&#39;UI_images/san.png&#39;</span><span class="p">))</span>
<a id="__codelineno-4-237" name="__codelineno-4-237"></a>        <span class="n">about_img</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-4-238" name="__codelineno-4-238"></a>
<a id="__codelineno-4-239" name="__codelineno-4-239"></a>        <span class="c1"># label4.setText(&quot;&lt;a href=&#39;https://oi.wiki/wiki/学习率的调整&#39;&gt;如何调整学习率&lt;/a&gt;&quot;)</span>
<a id="__codelineno-4-240" name="__codelineno-4-240"></a>        <span class="n">label_super</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>  <span class="c1"># todo 更换作者信息</span>
<a id="__codelineno-4-241" name="__codelineno-4-241"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&lt;a href=&#39;https://wcowin.work/&#39;&gt;--&gt;联系我们&lt;/a&gt;&quot;</span><span class="p">)</span>
<a id="__codelineno-4-242" name="__codelineno-4-242"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-4-243" name="__codelineno-4-243"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setOpenExternalLinks</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-244" name="__codelineno-4-244"></a>        <span class="c1"># label_super.setOpenExternalLinks(True)</span>
<a id="__codelineno-4-245" name="__codelineno-4-245"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
<a id="__codelineno-4-246" name="__codelineno-4-246"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">about_title</span><span class="p">)</span>
<a id="__codelineno-4-247" name="__codelineno-4-247"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span>
<a id="__codelineno-4-248" name="__codelineno-4-248"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">about_img</span><span class="p">)</span>
<a id="__codelineno-4-249" name="__codelineno-4-249"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span>
<a id="__codelineno-4-250" name="__codelineno-4-250"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label_super</span><span class="p">)</span>
<a id="__codelineno-4-251" name="__codelineno-4-251"></a>        <span class="n">about_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">about_layout</span><span class="p">)</span>
<a id="__codelineno-4-252" name="__codelineno-4-252"></a>        <span class="c1"># 分别添加子页面</span>
<a id="__codelineno-4-253" name="__codelineno-4-253"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">img_widget</span><span class="p">,</span> <span class="s2">&quot;上传人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-4-254" name="__codelineno-4-254"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">video_widget</span><span class="p">,</span> <span class="s1">&#39;视频检测&#39;</span><span class="p">)</span>
<a id="__codelineno-4-255" name="__codelineno-4-255"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">about_widget</span><span class="p">,</span> <span class="s1">&#39;关于&#39;</span><span class="p">)</span>
<a id="__codelineno-4-256" name="__codelineno-4-256"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/图片.png&#39;</span><span class="p">))</span>
<a id="__codelineno-4-257" name="__codelineno-4-257"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/图片.png&#39;</span><span class="p">))</span>
<a id="__codelineno-4-258" name="__codelineno-4-258"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/直播.png&#39;</span><span class="p">))</span>
<a id="__codelineno-4-259" name="__codelineno-4-259"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/logo_about.png&#39;</span><span class="p">))</span>
<a id="__codelineno-4-260" name="__codelineno-4-260"></a>
<a id="__codelineno-4-261" name="__codelineno-4-261"></a>    <span class="c1"># 第一个界面的函数</span>
<a id="__codelineno-4-262" name="__codelineno-4-262"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">up_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-263" name="__codelineno-4-263"></a>        <span class="c1"># 打开文件选择框</span>
<a id="__codelineno-4-264" name="__codelineno-4-264"></a>        <span class="n">openfile_name</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;选择文件&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Image files(*.jpg , *.png)&#39;</span><span class="p">)</span>
<a id="__codelineno-4-265" name="__codelineno-4-265"></a>        <span class="c1"># 获取上传的文件名称</span>
<a id="__codelineno-4-266" name="__codelineno-4-266"></a>        <span class="n">img_name</span> <span class="o">=</span> <span class="n">openfile_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-267" name="__codelineno-4-267"></a>        <span class="k">if</span> <span class="n">img_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
<a id="__codelineno-4-268" name="__codelineno-4-268"></a>            <span class="k">pass</span>
<a id="__codelineno-4-269" name="__codelineno-4-269"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-270" name="__codelineno-4-270"></a>            <span class="c1"># 上传之后显示并做归一化处理</span>
<a id="__codelineno-4-271" name="__codelineno-4-271"></a>            <span class="n">src_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_name</span><span class="p">)</span>
<a id="__codelineno-4-272" name="__codelineno-4-272"></a>            <span class="n">src_img_height</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-273" name="__codelineno-4-273"></a>            <span class="n">src_img_width</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-4-274" name="__codelineno-4-274"></a>            <span class="n">target_img_height</span> <span class="o">=</span> <span class="mi">400</span>
<a id="__codelineno-4-275" name="__codelineno-4-275"></a>            <span class="n">ratio</span> <span class="o">=</span> <span class="n">target_img_height</span> <span class="o">/</span> <span class="n">src_img_height</span>
<a id="__codelineno-4-276" name="__codelineno-4-276"></a>            <span class="n">target_img_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">src_img_width</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">)</span>
<a id="__codelineno-4-277" name="__codelineno-4-277"></a>            <span class="c1"># 将图片统一处理到高为400的图片，方便在界面上显示</span>
<a id="__codelineno-4-278" name="__codelineno-4-278"></a>            <span class="n">target_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">src_img</span><span class="p">,</span> <span class="p">(</span><span class="n">target_img_width</span><span class="p">,</span> <span class="n">target_img_height</span><span class="p">))</span>
<a id="__codelineno-4-279" name="__codelineno-4-279"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">,</span> <span class="n">target_img</span><span class="p">)</span>
<a id="__codelineno-4-280" name="__codelineno-4-280"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-4-281" name="__codelineno-4-281"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span> <span class="o">=</span> <span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span>
<a id="__codelineno-4-282" name="__codelineno-4-282"></a>
<a id="__codelineno-4-283" name="__codelineno-4-283"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">up_db_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-284" name="__codelineno-4-284"></a>        <span class="c1"># 首先判断该图像是否有一个人脸，多个人脸或者没有人脸都不行</span>
<a id="__codelineno-4-285" name="__codelineno-4-285"></a>        <span class="n">face_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">face_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-4-286" name="__codelineno-4-286"></a>        <span class="k">if</span> <span class="n">face_name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<a id="__codelineno-4-287" name="__codelineno-4-287"></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;不能为空&quot;</span><span class="p">,</span> <span class="s2">&quot;请填写人脸姓名&quot;</span><span class="p">)</span>
<a id="__codelineno-4-288" name="__codelineno-4-288"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-289" name="__codelineno-4-289"></a>            <span class="n">load_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span><span class="p">)</span>  <span class="c1"># 加载图片</span>
<a id="__codelineno-4-290" name="__codelineno-4-290"></a>            <span class="n">image_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">load_image</span><span class="p">)</span>  <span class="c1"># 获得128维特征值</span>
<a id="__codelineno-4-291" name="__codelineno-4-291"></a>            <span class="n">encoding_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">image_face_encoding</span><span class="p">)</span>  <span class="c1"># 获取人脸得数量</span>
<a id="__codelineno-4-292" name="__codelineno-4-292"></a>            <span class="k">if</span> <span class="n">encoding_length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># 如果没有人脸，提示用户重新上传</span>
<a id="__codelineno-4-293" name="__codelineno-4-293"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;请重新上传&quot;</span><span class="p">,</span> <span class="s2">&quot;当前图片没有发现人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-4-294" name="__codelineno-4-294"></a>            <span class="k">elif</span> <span class="n">encoding_length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># 如果人脸有多个，也提示用户重新上传</span>
<a id="__codelineno-4-295" name="__codelineno-4-295"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;请重新上传&quot;</span><span class="p">,</span> <span class="s2">&quot;当前图片发现多张人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-4-296" name="__codelineno-4-296"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-297" name="__codelineno-4-297"></a>                <span class="n">face_encoding</span> <span class="o">=</span> <span class="n">image_face_encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># 获取解析得到得人脸数量</span>
<a id="__codelineno-4-298" name="__codelineno-4-298"></a>                <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span><span class="p">)</span>  <span class="c1"># 将上传得图片保存在db目录下</span>
<a id="__codelineno-4-299" name="__codelineno-4-299"></a>                <span class="n">img_path</span> <span class="o">=</span> <span class="n">face_name</span> <span class="o">+</span> <span class="s1">&#39;.jpg&#39;</span>
<a id="__codelineno-4-300" name="__codelineno-4-300"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;images/db_faces/&quot;</span> <span class="o">+</span> <span class="n">img_path</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<a id="__codelineno-4-301" name="__codelineno-4-301"></a>                <span class="c1"># 上传之后重新对字典进行处理</span>
<a id="__codelineno-4-302" name="__codelineno-4-302"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_name</span><span class="p">)</span>
<a id="__codelineno-4-303" name="__codelineno-4-303"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_encoding</span><span class="p">)</span>
<a id="__codelineno-4-304" name="__codelineno-4-304"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;上传成功&quot;</span><span class="p">,</span> <span class="s2">&quot;数据已上传！&quot;</span><span class="p">)</span>
<a id="__codelineno-4-305" name="__codelineno-4-305"></a>
<a id="__codelineno-4-306" name="__codelineno-4-306"></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-4-307" name="__codelineno-4-307"></a><span class="sd">    ### 3. 视频识别相关功能 ### </span>
<a id="__codelineno-4-308" name="__codelineno-4-308"></a><span class="sd">    &#39;&#39;&#39;</span>
<a id="__codelineno-4-309" name="__codelineno-4-309"></a>
<a id="__codelineno-4-310" name="__codelineno-4-310"></a>    <span class="c1"># 关闭事件 询问用户是否退出</span>
<a id="__codelineno-4-311" name="__codelineno-4-311"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<a id="__codelineno-4-312" name="__codelineno-4-312"></a>        <span class="n">reply</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-4-313" name="__codelineno-4-313"></a>                                     <span class="s1">&#39;退出&#39;</span><span class="p">,</span>
<a id="__codelineno-4-314" name="__codelineno-4-314"></a>                                     <span class="s2">&quot;是否要退出程序？&quot;</span><span class="p">,</span>
<a id="__codelineno-4-315" name="__codelineno-4-315"></a>                                     <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
<a id="__codelineno-4-316" name="__codelineno-4-316"></a>                                     <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
<a id="__codelineno-4-317" name="__codelineno-4-317"></a>        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
<a id="__codelineno-4-318" name="__codelineno-4-318"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-4-319" name="__codelineno-4-319"></a>            <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
<a id="__codelineno-4-320" name="__codelineno-4-320"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-321" name="__codelineno-4-321"></a>            <span class="n">event</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>
<a id="__codelineno-4-322" name="__codelineno-4-322"></a>
<a id="__codelineno-4-323" name="__codelineno-4-323"></a>    <span class="c1"># 读取录像文件</span>
<a id="__codelineno-4-324" name="__codelineno-4-324"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-325" name="__codelineno-4-325"></a>        <span class="c1"># 选择录像文件进行读取</span>
<a id="__codelineno-4-326" name="__codelineno-4-326"></a>        <span class="n">mp4_fileName</span><span class="p">,</span> <span class="n">fileType</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Choose file&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;*.mp4&#39;</span><span class="p">)</span>
<a id="__codelineno-4-327" name="__codelineno-4-327"></a>        <span class="k">if</span> <span class="n">mp4_fileName</span><span class="p">:</span>
<a id="__codelineno-4-328" name="__codelineno-4-328"></a>            <span class="c1"># 启动录像文件读取得线程并在画面上实时显示</span>
<a id="__codelineno-4-329" name="__codelineno-4-329"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">mp4_fileName</span>
<a id="__codelineno-4-330" name="__codelineno-4-330"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
<a id="__codelineno-4-331" name="__codelineno-4-331"></a>            <span class="n">th</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_video</span><span class="p">)</span>
<a id="__codelineno-4-332" name="__codelineno-4-332"></a>            <span class="n">th</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-4-333" name="__codelineno-4-333"></a>
<a id="__codelineno-4-334" name="__codelineno-4-334"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_local</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-335" name="__codelineno-4-335"></a>        <span class="c1"># 选择录像文件进行读取</span>
<a id="__codelineno-4-336" name="__codelineno-4-336"></a>        <span class="n">mp4_filename</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-4-337" name="__codelineno-4-337"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">mp4_filename</span>
<a id="__codelineno-4-338" name="__codelineno-4-338"></a>        <span class="c1"># 读取摄像头进行实时得显示</span>
<a id="__codelineno-4-339" name="__codelineno-4-339"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
<a id="__codelineno-4-340" name="__codelineno-4-340"></a>        <span class="n">th</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_video</span><span class="p">)</span>
<a id="__codelineno-4-341" name="__codelineno-4-341"></a>        <span class="n">th</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-4-342" name="__codelineno-4-342"></a>
<a id="__codelineno-4-343" name="__codelineno-4-343"></a>    <span class="c1"># 退出进程</span>
<a id="__codelineno-4-344" name="__codelineno-4-344"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-345" name="__codelineno-4-345"></a>        <span class="c1"># 点击关闭按钮后重新初始化界面</span>
<a id="__codelineno-4-346" name="__codelineno-4-346"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<a id="__codelineno-4-347" name="__codelineno-4-347"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-4-348" name="__codelineno-4-348"></a>
<a id="__codelineno-4-349" name="__codelineno-4-349"></a>    <span class="c1"># todo 执行人脸识别主进程</span>
<a id="__codelineno-4-350" name="__codelineno-4-350"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">display_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-351" name="__codelineno-4-351"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-4-352" name="__codelineno-4-352"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-353" name="__codelineno-4-353"></a>        <span class="n">process_this_frame</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-4-354" name="__codelineno-4-354"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-4-355" name="__codelineno-4-355"></a>            <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-4-356" name="__codelineno-4-356"></a>            <span class="n">rgb_frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
<a id="__codelineno-4-357" name="__codelineno-4-357"></a>            <span class="k">if</span> <span class="n">process_this_frame</span><span class="p">:</span>
<a id="__codelineno-4-358" name="__codelineno-4-358"></a>                <span class="n">face_locations</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_locations</span><span class="p">(</span><span class="n">rgb_frame</span><span class="p">)</span>
<a id="__codelineno-4-359" name="__codelineno-4-359"></a>                <span class="n">face_encodings</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">rgb_frame</span><span class="p">,</span> <span class="n">face_locations</span><span class="p">)</span>
<a id="__codelineno-4-360" name="__codelineno-4-360"></a>                <span class="n">face_names</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-361" name="__codelineno-4-361"></a>                <span class="k">for</span> <span class="n">face_encoding</span> <span class="ow">in</span> <span class="n">face_encodings</span><span class="p">:</span>
<a id="__codelineno-4-362" name="__codelineno-4-362"></a>                    <span class="n">matches</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">compare_faces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span><span class="p">,</span> <span class="n">face_encoding</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-4-363" name="__codelineno-4-363"></a>                    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
<a id="__codelineno-4-364" name="__codelineno-4-364"></a>                        <span class="n">first_match_index</span> <span class="o">=</span> <span class="n">matches</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-365" name="__codelineno-4-365"></a>                        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="p">[</span><span class="n">first_match_index</span><span class="p">]</span>
<a id="__codelineno-4-366" name="__codelineno-4-366"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-4-367" name="__codelineno-4-367"></a>                        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Unknown&quot;</span>
<a id="__codelineno-4-368" name="__codelineno-4-368"></a>                    <span class="n">face_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-4-369" name="__codelineno-4-369"></a>            <span class="n">process_this_frame</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">process_this_frame</span>
<a id="__codelineno-4-370" name="__codelineno-4-370"></a>            <span class="k">for</span> <span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span><span class="p">),</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">face_locations</span><span class="p">,</span> <span class="n">face_names</span><span class="p">):</span>
<a id="__codelineno-4-371" name="__codelineno-4-371"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 修改边界框颜色为红色</span>
<a id="__codelineno-4-372" name="__codelineno-4-372"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="mi">35</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FILLED</span><span class="p">)</span>  <span class="c1"># 修改填充颜色为红色</span>
<a id="__codelineno-4-373" name="__codelineno-4-373"></a>                <span class="n">font</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_DUPLEX</span>
<a id="__codelineno-4-374" name="__codelineno-4-374"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">putText</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span> <span class="mi">6</span><span class="p">),</span> <span class="n">font</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-4-375" name="__codelineno-4-375"></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
<a id="__codelineno-4-376" name="__codelineno-4-376"></a>            <span class="n">frame_height</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-377" name="__codelineno-4-377"></a>            <span class="n">frame_width</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-4-378" name="__codelineno-4-378"></a>            <span class="n">frame_scale</span> <span class="o">=</span> <span class="mi">500</span> <span class="o">/</span> <span class="n">frame_height</span>
<a id="__codelineno-4-379" name="__codelineno-4-379"></a>            <span class="n">frame_resize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">frame_width</span> <span class="o">*</span> <span class="n">frame_scale</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">frame_height</span> <span class="o">*</span> <span class="n">frame_scale</span><span class="p">)))</span>
<a id="__codelineno-4-380" name="__codelineno-4-380"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;images/tmp.jpg&quot;</span><span class="p">,</span> <span class="n">frame_resize</span><span class="p">)</span>
<a id="__codelineno-4-381" name="__codelineno-4-381"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;images/tmp.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-4-382" name="__codelineno-4-382"></a>            <span class="k">if</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">is_set</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-4-383" name="__codelineno-4-383"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-4-384" name="__codelineno-4-384"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-4-385" name="__codelineno-4-385"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-4-386" name="__codelineno-4-386"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-387" name="__codelineno-4-387"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-4-388" name="__codelineno-4-388"></a>                <span class="k">break</span>
<a id="__codelineno-4-389" name="__codelineno-4-389"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-390" name="__codelineno-4-390"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-4-391" name="__codelineno-4-391"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-4-392" name="__codelineno-4-392"></a>
<a id="__codelineno-4-393" name="__codelineno-4-393"></a>    <span class="c1"># 初始化视频检测界面</span>
<a id="__codelineno-4-394" name="__codelineno-4-394"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-4-395" name="__codelineno-4-395"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
<a id="__codelineno-4-396" name="__codelineno-4-396"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
<a id="__codelineno-4-397" name="__codelineno-4-397"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/dier.jpeg&quot;</span><span class="p">))</span>
<a id="__codelineno-4-398" name="__codelineno-4-398"></a>
<a id="__codelineno-4-399" name="__codelineno-4-399"></a>
<a id="__codelineno-4-400" name="__codelineno-4-400"></a><span class="c1"># https://www.lfd.uci.edu/~gohlke/pythonlibs/</span>
<a id="__codelineno-4-401" name="__codelineno-4-401"></a><span class="c1"># https://pypi.org/project/dlib/#files</span>
<a id="__codelineno-4-402" name="__codelineno-4-402"></a><span class="c1"># https://download.csdn.net/download/ECHOSON/75224362</span>
<a id="__codelineno-4-403" name="__codelineno-4-403"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-4-404" name="__codelineno-4-404"></a>    <span class="c1"># 加载页面</span>
<a id="__codelineno-4-405" name="__codelineno-4-405"></a>    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<a id="__codelineno-4-406" name="__codelineno-4-406"></a>    <span class="n">mainWindow</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
<a id="__codelineno-4-407" name="__codelineno-4-407"></a>    <span class="n">mainWindow</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-4-408" name="__codelineno-4-408"></a>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="_4">效果<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="https://s2.loli.net/2024/02/04/AcdiBjGqRu3zZnO.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image.png" src="https://s2.loli.net/2024/02/04/AcdiBjGqRu3zZnO.jpg" /></a></p>
<p><strong>准确度显著提高，多人照片识别也更快，UI交互也做了改进</strong>  </p>
<h2 id="ing">持续优化ing<a class="headerlink" href="#ing" title="Permanent link">&para;</a></h2>
<p>恰逢Pytho课程设计，于是我便拿出来作为小组设计作品，但是做了进一步完善  </p>
<p>团队(姚双、本作者、张平、刘银杰)优化后最终版本：<br />
<strong>识别精度大幅提升，支持多人脸识别，支持多种人脸识别模型，支持人脸图像预处理，支持使用更高级的人脸识别模型，支持增加人脸图像的数量和多样性，支持使用更高级的人脸识别模型，支持人脸图像预处理，支持人脸匹配，支持结果显示，支持用户交互，支持数据收集与预处理，支持人脸特征提取</strong>  </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">  1</a></span>
<span class="normal"><a href="#__codelineno-5-2">  2</a></span>
<span class="normal"><a href="#__codelineno-5-3">  3</a></span>
<span class="normal"><a href="#__codelineno-5-4">  4</a></span>
<span class="normal"><a href="#__codelineno-5-5">  5</a></span>
<span class="normal"><a href="#__codelineno-5-6">  6</a></span>
<span class="normal"><a href="#__codelineno-5-7">  7</a></span>
<span class="normal"><a href="#__codelineno-5-8">  8</a></span>
<span class="normal"><a href="#__codelineno-5-9">  9</a></span>
<span class="normal"><a href="#__codelineno-5-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-5-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-5-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-5-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-5-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-5-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-5-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-5-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-5-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-5-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-5-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-5-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-5-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-5-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-5-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-5-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-5-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-5-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-5-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-5-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-5-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-5-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-5-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-5-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-5-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-5-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-5-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-5-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-5-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-5-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-5-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-5-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-5-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-5-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-5-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-5-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-5-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-5-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-5-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-5-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-5-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-5-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-5-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-5-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-5-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-5-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-5-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-5-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-5-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-5-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-5-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-5-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-5-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-5-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-5-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-5-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-5-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-5-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-5-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-5-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-5-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-5-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-5-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-5-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-5-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-5-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-5-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-5-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-5-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-5-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-5-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-5-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-5-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-5-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-5-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-5-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-5-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-5-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-5-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-5-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-5-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-5-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-5-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-5-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-5-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-5-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-5-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-5-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-5-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-5-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-5-100">100</a></span>
<span class="normal"><a href="#__codelineno-5-101">101</a></span>
<span class="normal"><a href="#__codelineno-5-102">102</a></span>
<span class="normal"><a href="#__codelineno-5-103">103</a></span>
<span class="normal"><a href="#__codelineno-5-104">104</a></span>
<span class="normal"><a href="#__codelineno-5-105">105</a></span>
<span class="normal"><a href="#__codelineno-5-106">106</a></span>
<span class="normal"><a href="#__codelineno-5-107">107</a></span>
<span class="normal"><a href="#__codelineno-5-108">108</a></span>
<span class="normal"><a href="#__codelineno-5-109">109</a></span>
<span class="normal"><a href="#__codelineno-5-110">110</a></span>
<span class="normal"><a href="#__codelineno-5-111">111</a></span>
<span class="normal"><a href="#__codelineno-5-112">112</a></span>
<span class="normal"><a href="#__codelineno-5-113">113</a></span>
<span class="normal"><a href="#__codelineno-5-114">114</a></span>
<span class="normal"><a href="#__codelineno-5-115">115</a></span>
<span class="normal"><a href="#__codelineno-5-116">116</a></span>
<span class="normal"><a href="#__codelineno-5-117">117</a></span>
<span class="normal"><a href="#__codelineno-5-118">118</a></span>
<span class="normal"><a href="#__codelineno-5-119">119</a></span>
<span class="normal"><a href="#__codelineno-5-120">120</a></span>
<span class="normal"><a href="#__codelineno-5-121">121</a></span>
<span class="normal"><a href="#__codelineno-5-122">122</a></span>
<span class="normal"><a href="#__codelineno-5-123">123</a></span>
<span class="normal"><a href="#__codelineno-5-124">124</a></span>
<span class="normal"><a href="#__codelineno-5-125">125</a></span>
<span class="normal"><a href="#__codelineno-5-126">126</a></span>
<span class="normal"><a href="#__codelineno-5-127">127</a></span>
<span class="normal"><a href="#__codelineno-5-128">128</a></span>
<span class="normal"><a href="#__codelineno-5-129">129</a></span>
<span class="normal"><a href="#__codelineno-5-130">130</a></span>
<span class="normal"><a href="#__codelineno-5-131">131</a></span>
<span class="normal"><a href="#__codelineno-5-132">132</a></span>
<span class="normal"><a href="#__codelineno-5-133">133</a></span>
<span class="normal"><a href="#__codelineno-5-134">134</a></span>
<span class="normal"><a href="#__codelineno-5-135">135</a></span>
<span class="normal"><a href="#__codelineno-5-136">136</a></span>
<span class="normal"><a href="#__codelineno-5-137">137</a></span>
<span class="normal"><a href="#__codelineno-5-138">138</a></span>
<span class="normal"><a href="#__codelineno-5-139">139</a></span>
<span class="normal"><a href="#__codelineno-5-140">140</a></span>
<span class="normal"><a href="#__codelineno-5-141">141</a></span>
<span class="normal"><a href="#__codelineno-5-142">142</a></span>
<span class="normal"><a href="#__codelineno-5-143">143</a></span>
<span class="normal"><a href="#__codelineno-5-144">144</a></span>
<span class="normal"><a href="#__codelineno-5-145">145</a></span>
<span class="normal"><a href="#__codelineno-5-146">146</a></span>
<span class="normal"><a href="#__codelineno-5-147">147</a></span>
<span class="normal"><a href="#__codelineno-5-148">148</a></span>
<span class="normal"><a href="#__codelineno-5-149">149</a></span>
<span class="normal"><a href="#__codelineno-5-150">150</a></span>
<span class="normal"><a href="#__codelineno-5-151">151</a></span>
<span class="normal"><a href="#__codelineno-5-152">152</a></span>
<span class="normal"><a href="#__codelineno-5-153">153</a></span>
<span class="normal"><a href="#__codelineno-5-154">154</a></span>
<span class="normal"><a href="#__codelineno-5-155">155</a></span>
<span class="normal"><a href="#__codelineno-5-156">156</a></span>
<span class="normal"><a href="#__codelineno-5-157">157</a></span>
<span class="normal"><a href="#__codelineno-5-158">158</a></span>
<span class="normal"><a href="#__codelineno-5-159">159</a></span>
<span class="normal"><a href="#__codelineno-5-160">160</a></span>
<span class="normal"><a href="#__codelineno-5-161">161</a></span>
<span class="normal"><a href="#__codelineno-5-162">162</a></span>
<span class="normal"><a href="#__codelineno-5-163">163</a></span>
<span class="normal"><a href="#__codelineno-5-164">164</a></span>
<span class="normal"><a href="#__codelineno-5-165">165</a></span>
<span class="normal"><a href="#__codelineno-5-166">166</a></span>
<span class="normal"><a href="#__codelineno-5-167">167</a></span>
<span class="normal"><a href="#__codelineno-5-168">168</a></span>
<span class="normal"><a href="#__codelineno-5-169">169</a></span>
<span class="normal"><a href="#__codelineno-5-170">170</a></span>
<span class="normal"><a href="#__codelineno-5-171">171</a></span>
<span class="normal"><a href="#__codelineno-5-172">172</a></span>
<span class="normal"><a href="#__codelineno-5-173">173</a></span>
<span class="normal"><a href="#__codelineno-5-174">174</a></span>
<span class="normal"><a href="#__codelineno-5-175">175</a></span>
<span class="normal"><a href="#__codelineno-5-176">176</a></span>
<span class="normal"><a href="#__codelineno-5-177">177</a></span>
<span class="normal"><a href="#__codelineno-5-178">178</a></span>
<span class="normal"><a href="#__codelineno-5-179">179</a></span>
<span class="normal"><a href="#__codelineno-5-180">180</a></span>
<span class="normal"><a href="#__codelineno-5-181">181</a></span>
<span class="normal"><a href="#__codelineno-5-182">182</a></span>
<span class="normal"><a href="#__codelineno-5-183">183</a></span>
<span class="normal"><a href="#__codelineno-5-184">184</a></span>
<span class="normal"><a href="#__codelineno-5-185">185</a></span>
<span class="normal"><a href="#__codelineno-5-186">186</a></span>
<span class="normal"><a href="#__codelineno-5-187">187</a></span>
<span class="normal"><a href="#__codelineno-5-188">188</a></span>
<span class="normal"><a href="#__codelineno-5-189">189</a></span>
<span class="normal"><a href="#__codelineno-5-190">190</a></span>
<span class="normal"><a href="#__codelineno-5-191">191</a></span>
<span class="normal"><a href="#__codelineno-5-192">192</a></span>
<span class="normal"><a href="#__codelineno-5-193">193</a></span>
<span class="normal"><a href="#__codelineno-5-194">194</a></span>
<span class="normal"><a href="#__codelineno-5-195">195</a></span>
<span class="normal"><a href="#__codelineno-5-196">196</a></span>
<span class="normal"><a href="#__codelineno-5-197">197</a></span>
<span class="normal"><a href="#__codelineno-5-198">198</a></span>
<span class="normal"><a href="#__codelineno-5-199">199</a></span>
<span class="normal"><a href="#__codelineno-5-200">200</a></span>
<span class="normal"><a href="#__codelineno-5-201">201</a></span>
<span class="normal"><a href="#__codelineno-5-202">202</a></span>
<span class="normal"><a href="#__codelineno-5-203">203</a></span>
<span class="normal"><a href="#__codelineno-5-204">204</a></span>
<span class="normal"><a href="#__codelineno-5-205">205</a></span>
<span class="normal"><a href="#__codelineno-5-206">206</a></span>
<span class="normal"><a href="#__codelineno-5-207">207</a></span>
<span class="normal"><a href="#__codelineno-5-208">208</a></span>
<span class="normal"><a href="#__codelineno-5-209">209</a></span>
<span class="normal"><a href="#__codelineno-5-210">210</a></span>
<span class="normal"><a href="#__codelineno-5-211">211</a></span>
<span class="normal"><a href="#__codelineno-5-212">212</a></span>
<span class="normal"><a href="#__codelineno-5-213">213</a></span>
<span class="normal"><a href="#__codelineno-5-214">214</a></span>
<span class="normal"><a href="#__codelineno-5-215">215</a></span>
<span class="normal"><a href="#__codelineno-5-216">216</a></span>
<span class="normal"><a href="#__codelineno-5-217">217</a></span>
<span class="normal"><a href="#__codelineno-5-218">218</a></span>
<span class="normal"><a href="#__codelineno-5-219">219</a></span>
<span class="normal"><a href="#__codelineno-5-220">220</a></span>
<span class="normal"><a href="#__codelineno-5-221">221</a></span>
<span class="normal"><a href="#__codelineno-5-222">222</a></span>
<span class="normal"><a href="#__codelineno-5-223">223</a></span>
<span class="normal"><a href="#__codelineno-5-224">224</a></span>
<span class="normal"><a href="#__codelineno-5-225">225</a></span>
<span class="normal"><a href="#__codelineno-5-226">226</a></span>
<span class="normal"><a href="#__codelineno-5-227">227</a></span>
<span class="normal"><a href="#__codelineno-5-228">228</a></span>
<span class="normal"><a href="#__codelineno-5-229">229</a></span>
<span class="normal"><a href="#__codelineno-5-230">230</a></span>
<span class="normal"><a href="#__codelineno-5-231">231</a></span>
<span class="normal"><a href="#__codelineno-5-232">232</a></span>
<span class="normal"><a href="#__codelineno-5-233">233</a></span>
<span class="normal"><a href="#__codelineno-5-234">234</a></span>
<span class="normal"><a href="#__codelineno-5-235">235</a></span>
<span class="normal"><a href="#__codelineno-5-236">236</a></span>
<span class="normal"><a href="#__codelineno-5-237">237</a></span>
<span class="normal"><a href="#__codelineno-5-238">238</a></span>
<span class="normal"><a href="#__codelineno-5-239">239</a></span>
<span class="normal"><a href="#__codelineno-5-240">240</a></span>
<span class="normal"><a href="#__codelineno-5-241">241</a></span>
<span class="normal"><a href="#__codelineno-5-242">242</a></span>
<span class="normal"><a href="#__codelineno-5-243">243</a></span>
<span class="normal"><a href="#__codelineno-5-244">244</a></span>
<span class="normal"><a href="#__codelineno-5-245">245</a></span>
<span class="normal"><a href="#__codelineno-5-246">246</a></span>
<span class="normal"><a href="#__codelineno-5-247">247</a></span>
<span class="normal"><a href="#__codelineno-5-248">248</a></span>
<span class="normal"><a href="#__codelineno-5-249">249</a></span>
<span class="normal"><a href="#__codelineno-5-250">250</a></span>
<span class="normal"><a href="#__codelineno-5-251">251</a></span>
<span class="normal"><a href="#__codelineno-5-252">252</a></span>
<span class="normal"><a href="#__codelineno-5-253">253</a></span>
<span class="normal"><a href="#__codelineno-5-254">254</a></span>
<span class="normal"><a href="#__codelineno-5-255">255</a></span>
<span class="normal"><a href="#__codelineno-5-256">256</a></span>
<span class="normal"><a href="#__codelineno-5-257">257</a></span>
<span class="normal"><a href="#__codelineno-5-258">258</a></span>
<span class="normal"><a href="#__codelineno-5-259">259</a></span>
<span class="normal"><a href="#__codelineno-5-260">260</a></span>
<span class="normal"><a href="#__codelineno-5-261">261</a></span>
<span class="normal"><a href="#__codelineno-5-262">262</a></span>
<span class="normal"><a href="#__codelineno-5-263">263</a></span>
<span class="normal"><a href="#__codelineno-5-264">264</a></span>
<span class="normal"><a href="#__codelineno-5-265">265</a></span>
<span class="normal"><a href="#__codelineno-5-266">266</a></span>
<span class="normal"><a href="#__codelineno-5-267">267</a></span>
<span class="normal"><a href="#__codelineno-5-268">268</a></span>
<span class="normal"><a href="#__codelineno-5-269">269</a></span>
<span class="normal"><a href="#__codelineno-5-270">270</a></span>
<span class="normal"><a href="#__codelineno-5-271">271</a></span>
<span class="normal"><a href="#__codelineno-5-272">272</a></span>
<span class="normal"><a href="#__codelineno-5-273">273</a></span>
<span class="normal"><a href="#__codelineno-5-274">274</a></span>
<span class="normal"><a href="#__codelineno-5-275">275</a></span>
<span class="normal"><a href="#__codelineno-5-276">276</a></span>
<span class="normal"><a href="#__codelineno-5-277">277</a></span>
<span class="normal"><a href="#__codelineno-5-278">278</a></span>
<span class="normal"><a href="#__codelineno-5-279">279</a></span>
<span class="normal"><a href="#__codelineno-5-280">280</a></span>
<span class="normal"><a href="#__codelineno-5-281">281</a></span>
<span class="normal"><a href="#__codelineno-5-282">282</a></span>
<span class="normal"><a href="#__codelineno-5-283">283</a></span>
<span class="normal"><a href="#__codelineno-5-284">284</a></span>
<span class="normal"><a href="#__codelineno-5-285">285</a></span>
<span class="normal"><a href="#__codelineno-5-286">286</a></span>
<span class="normal"><a href="#__codelineno-5-287">287</a></span>
<span class="normal"><a href="#__codelineno-5-288">288</a></span>
<span class="normal"><a href="#__codelineno-5-289">289</a></span>
<span class="normal"><a href="#__codelineno-5-290">290</a></span>
<span class="normal"><a href="#__codelineno-5-291">291</a></span>
<span class="normal"><a href="#__codelineno-5-292">292</a></span>
<span class="normal"><a href="#__codelineno-5-293">293</a></span>
<span class="normal"><a href="#__codelineno-5-294">294</a></span>
<span class="normal"><a href="#__codelineno-5-295">295</a></span>
<span class="normal"><a href="#__codelineno-5-296">296</a></span>
<span class="normal"><a href="#__codelineno-5-297">297</a></span>
<span class="normal"><a href="#__codelineno-5-298">298</a></span>
<span class="normal"><a href="#__codelineno-5-299">299</a></span>
<span class="normal"><a href="#__codelineno-5-300">300</a></span>
<span class="normal"><a href="#__codelineno-5-301">301</a></span>
<span class="normal"><a href="#__codelineno-5-302">302</a></span>
<span class="normal"><a href="#__codelineno-5-303">303</a></span>
<span class="normal"><a href="#__codelineno-5-304">304</a></span>
<span class="normal"><a href="#__codelineno-5-305">305</a></span>
<span class="normal"><a href="#__codelineno-5-306">306</a></span>
<span class="normal"><a href="#__codelineno-5-307">307</a></span>
<span class="normal"><a href="#__codelineno-5-308">308</a></span>
<span class="normal"><a href="#__codelineno-5-309">309</a></span>
<span class="normal"><a href="#__codelineno-5-310">310</a></span>
<span class="normal"><a href="#__codelineno-5-311">311</a></span>
<span class="normal"><a href="#__codelineno-5-312">312</a></span>
<span class="normal"><a href="#__codelineno-5-313">313</a></span>
<span class="normal"><a href="#__codelineno-5-314">314</a></span>
<span class="normal"><a href="#__codelineno-5-315">315</a></span>
<span class="normal"><a href="#__codelineno-5-316">316</a></span>
<span class="normal"><a href="#__codelineno-5-317">317</a></span>
<span class="normal"><a href="#__codelineno-5-318">318</a></span>
<span class="normal"><a href="#__codelineno-5-319">319</a></span>
<span class="normal"><a href="#__codelineno-5-320">320</a></span>
<span class="normal"><a href="#__codelineno-5-321">321</a></span>
<span class="normal"><a href="#__codelineno-5-322">322</a></span>
<span class="normal"><a href="#__codelineno-5-323">323</a></span>
<span class="normal"><a href="#__codelineno-5-324">324</a></span>
<span class="normal"><a href="#__codelineno-5-325">325</a></span>
<span class="normal"><a href="#__codelineno-5-326">326</a></span>
<span class="normal"><a href="#__codelineno-5-327">327</a></span>
<span class="normal"><a href="#__codelineno-5-328">328</a></span>
<span class="normal"><a href="#__codelineno-5-329">329</a></span>
<span class="normal"><a href="#__codelineno-5-330">330</a></span>
<span class="normal"><a href="#__codelineno-5-331">331</a></span>
<span class="normal"><a href="#__codelineno-5-332">332</a></span>
<span class="normal"><a href="#__codelineno-5-333">333</a></span>
<span class="normal"><a href="#__codelineno-5-334">334</a></span>
<span class="normal"><a href="#__codelineno-5-335">335</a></span>
<span class="normal"><a href="#__codelineno-5-336">336</a></span>
<span class="normal"><a href="#__codelineno-5-337">337</a></span>
<span class="normal"><a href="#__codelineno-5-338">338</a></span>
<span class="normal"><a href="#__codelineno-5-339">339</a></span>
<span class="normal"><a href="#__codelineno-5-340">340</a></span>
<span class="normal"><a href="#__codelineno-5-341">341</a></span>
<span class="normal"><a href="#__codelineno-5-342">342</a></span>
<span class="normal"><a href="#__codelineno-5-343">343</a></span>
<span class="normal"><a href="#__codelineno-5-344">344</a></span>
<span class="normal"><a href="#__codelineno-5-345">345</a></span>
<span class="normal"><a href="#__codelineno-5-346">346</a></span>
<span class="normal"><a href="#__codelineno-5-347">347</a></span>
<span class="normal"><a href="#__codelineno-5-348">348</a></span>
<span class="normal"><a href="#__codelineno-5-349">349</a></span>
<span class="normal"><a href="#__codelineno-5-350">350</a></span>
<span class="normal"><a href="#__codelineno-5-351">351</a></span>
<span class="normal"><a href="#__codelineno-5-352">352</a></span>
<span class="normal"><a href="#__codelineno-5-353">353</a></span>
<span class="normal"><a href="#__codelineno-5-354">354</a></span>
<span class="normal"><a href="#__codelineno-5-355">355</a></span>
<span class="normal"><a href="#__codelineno-5-356">356</a></span>
<span class="normal"><a href="#__codelineno-5-357">357</a></span>
<span class="normal"><a href="#__codelineno-5-358">358</a></span>
<span class="normal"><a href="#__codelineno-5-359">359</a></span>
<span class="normal"><a href="#__codelineno-5-360">360</a></span>
<span class="normal"><a href="#__codelineno-5-361">361</a></span>
<span class="normal"><a href="#__codelineno-5-362">362</a></span>
<span class="normal"><a href="#__codelineno-5-363">363</a></span>
<span class="normal"><a href="#__codelineno-5-364">364</a></span>
<span class="normal"><a href="#__codelineno-5-365">365</a></span>
<span class="normal"><a href="#__codelineno-5-366">366</a></span>
<span class="normal"><a href="#__codelineno-5-367">367</a></span>
<span class="normal"><a href="#__codelineno-5-368">368</a></span>
<span class="normal"><a href="#__codelineno-5-369">369</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtWidgets</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtCore</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtWidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">QFileDialog</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QDockWidget</span><span class="p">,</span> <span class="n">QListWidget</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PyQt5.QtGui</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">face_recognition</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="c1"># 窗口主类</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="k">class</span><span class="w"> </span><span class="nc">MainWindow</span><span class="p">(</span><span class="n">QTabWidget</span><span class="p">):</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="c1"># 基本配置不动，然后只动第三个界面</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a>        <span class="c1"># 初始化设置</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;实时人脸识别系统&#39;</span><span class="p">)</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">1100</span><span class="p">,</span> <span class="mi">650</span><span class="p">)</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s2">&quot;UI_images/faxian.png&quot;</span><span class="p">))</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a>        <span class="c1"># 要上传的图片路径</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>        <span class="c1"># 要检测的图片名称</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">input_fname</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a>        <span class="c1"># 要检测的视频名称</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a>        <span class="c1"># 初始化中止事件</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a>        <span class="c1"># 初始化人脸向量</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initFaces</span><span class="p">()</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a>        <span class="c1"># 加载lbp检测器</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a>        <span class="c1"># 加载人脸识别模型</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a>        <span class="c1"># 初始化界面</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a>    <span class="c1"># 初始化数据库的人脸</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">initFaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a>        <span class="c1"># 存储知道人名列表</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a>        <span class="n">known_names</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a>        <span class="c1"># 存储知道的特征值</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a>        <span class="n">known_encodings</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a>        <span class="c1"># 遍历存储人脸图片的文件夹</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a>        <span class="n">db_folder</span> <span class="o">=</span> <span class="s2">&quot;images/db_faces&quot;</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a>        <span class="n">face_imgs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">db_folder</span><span class="p">)</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a>        <span class="c1"># 遍历图片，将人脸图片转化为向量</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a>        <span class="k">for</span> <span class="n">face_img</span> <span class="ow">in</span> <span class="n">face_imgs</span><span class="p">:</span>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a>            <span class="n">face_img_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db_folder</span><span class="p">,</span> <span class="n">face_img</span><span class="p">)</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a>            <span class="n">face_name</span> <span class="o">=</span> <span class="n">face_img</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a>            <span class="n">load_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="n">face_img_path</span><span class="p">)</span>  <span class="c1"># 加载图片</span>
<a id="__codelineno-5-55" name="__codelineno-5-55"></a>            <span class="n">image_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">load_image</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># 获得128维特征值</span>
<a id="__codelineno-5-56" name="__codelineno-5-56"></a>            <span class="n">known_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_name</span><span class="p">)</span>  <span class="c1"># 添加到人名的列表</span>
<a id="__codelineno-5-57" name="__codelineno-5-57"></a>            <span class="n">known_encodings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image_face_encoding</span><span class="p">)</span>  <span class="c1"># 添加到向量的列表</span>
<a id="__codelineno-5-58" name="__codelineno-5-58"></a>        <span class="k">return</span> <span class="n">known_names</span><span class="p">,</span> <span class="n">known_encodings</span>
<a id="__codelineno-5-59" name="__codelineno-5-59"></a>
<a id="__codelineno-5-60" name="__codelineno-5-60"></a>    <span class="c1"># 初始化界面</span>
<a id="__codelineno-5-61" name="__codelineno-5-61"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-62" name="__codelineno-5-62"></a>        <span class="c1"># 设置字体</span>
<a id="__codelineno-5-63" name="__codelineno-5-63"></a>        <span class="n">font_v</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<a id="__codelineno-5-64" name="__codelineno-5-64"></a>        <span class="n">generally_font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-5-65" name="__codelineno-5-65"></a>        <span class="c1"># 图片检测</span>
<a id="__codelineno-5-66" name="__codelineno-5-66"></a>        <span class="n">img_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-5-67" name="__codelineno-5-67"></a>        <span class="n">img_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-5-68" name="__codelineno-5-68"></a>        <span class="n">img_f_title</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;上传人脸图像&quot;</span><span class="p">)</span>  <span class="c1"># 设置标题</span>
<a id="__codelineno-5-69" name="__codelineno-5-69"></a>        <span class="n">img_f_title</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>  <span class="c1"># 设置标题位置为居中</span>
<a id="__codelineno-5-70" name="__codelineno-5-70"></a>        <span class="n">img_f_title</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>  <span class="c1"># 设置标题字体大小</span>
<a id="__codelineno-5-71" name="__codelineno-5-71"></a>        <span class="c1"># todo 要上传的人脸图像</span>
<a id="__codelineno-5-72" name="__codelineno-5-72"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>  <span class="c1"># 设置第一个界面上要显示的图片</span>
<a id="__codelineno-5-73" name="__codelineno-5-73"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/zhuye.jpeg&quot;</span><span class="p">))</span>  <span class="c1"># 初始化要显示的图片</span>
<a id="__codelineno-5-74" name="__codelineno-5-74"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>  <span class="c1"># 设置图片居中</span>
<a id="__codelineno-5-75" name="__codelineno-5-75"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">face_name</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>  <span class="c1"># 设置当前图片对应的人名</span>
<a id="__codelineno-5-76" name="__codelineno-5-76"></a>        <span class="n">img_up_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;上传图片&quot;</span><span class="p">)</span>  <span class="c1"># 设置上传图片的按钮</span>
<a id="__codelineno-5-77" name="__codelineno-5-77"></a>        <span class="n">img_det_btn</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;开始上传&quot;</span><span class="p">)</span>  <span class="c1"># 设置开始上传的按钮</span>
<a id="__codelineno-5-78" name="__codelineno-5-78"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img</span><span class="p">)</span>  <span class="c1"># 联系到相关函数</span>
<a id="__codelineno-5-79" name="__codelineno-5-79"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_db_img</span><span class="p">)</span>  <span class="c1"># 连接到相关函数</span>
<a id="__codelineno-5-80" name="__codelineno-5-80"></a>        <span class="c1"># 设置组件的样式</span>
<a id="__codelineno-5-81" name="__codelineno-5-81"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">generally_font</span><span class="p">)</span>
<a id="__codelineno-5-82" name="__codelineno-5-82"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">generally_font</span><span class="p">)</span>
<a id="__codelineno-5-83" name="__codelineno-5-83"></a>        <span class="n">img_up_btn</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-5-84" name="__codelineno-5-84"></a>                                 <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-5-85" name="__codelineno-5-85"></a>                                 <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-5-86" name="__codelineno-5-86"></a>                                 <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-5-87" name="__codelineno-5-87"></a>                                 <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-5-88" name="__codelineno-5-88"></a>                                 <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-5-89" name="__codelineno-5-89"></a>                                 <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-90" name="__codelineno-5-90"></a>        <span class="n">img_det_btn</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-5-91" name="__codelineno-5-91"></a>                                  <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-5-92" name="__codelineno-5-92"></a>                                  <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-5-93" name="__codelineno-5-93"></a>                                  <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-5-94" name="__codelineno-5-94"></a>                                  <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-5-95" name="__codelineno-5-95"></a>                                  <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-5-96" name="__codelineno-5-96"></a>                                  <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-97" name="__codelineno-5-97"></a>        <span class="c1"># 将组件添加到布局上，然后设置主要的widget为当前的布局</span>
<a id="__codelineno-5-98" name="__codelineno-5-98"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_f_title</span><span class="p">)</span>
<a id="__codelineno-5-99" name="__codelineno-5-99"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="p">)</span>
<a id="__codelineno-5-100" name="__codelineno-5-100"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">face_name</span><span class="p">)</span>
<a id="__codelineno-5-101" name="__codelineno-5-101"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_up_btn</span><span class="p">)</span>
<a id="__codelineno-5-102" name="__codelineno-5-102"></a>        <span class="n">img_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">img_det_btn</span><span class="p">)</span>
<a id="__codelineno-5-103" name="__codelineno-5-103"></a>        <span class="n">img_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">img_layout</span><span class="p">)</span>
<a id="__codelineno-5-104" name="__codelineno-5-104"></a>
<a id="__codelineno-5-105" name="__codelineno-5-105"></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-5-106" name="__codelineno-5-106"></a><span class="sd">        *** 4. 视频识别界面 ***</span>
<a id="__codelineno-5-107" name="__codelineno-5-107"></a><span class="sd">        &#39;&#39;&#39;</span>
<a id="__codelineno-5-108" name="__codelineno-5-108"></a>        <span class="n">video_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-5-109" name="__codelineno-5-109"></a>        <span class="n">video_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-5-110" name="__codelineno-5-110"></a>        <span class="c1"># 设置视频识别区的标题</span>
<a id="__codelineno-5-111" name="__codelineno-5-111"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;视频识别区&quot;</span><span class="p">)</span>
<a id="__codelineno-5-112" name="__codelineno-5-112"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-5-113" name="__codelineno-5-113"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-5-114" name="__codelineno-5-114"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-5-115" name="__codelineno-5-115"></a>        <span class="c1"># 设置显示的界面</span>
<a id="__codelineno-5-116" name="__codelineno-5-116"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
<a id="__codelineno-5-117" name="__codelineno-5-117"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">))</span>
<a id="__codelineno-5-118" name="__codelineno-5-118"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;检测摄像头&quot;</span><span class="p">)</span>
<a id="__codelineno-5-119" name="__codelineno-5-119"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-5-120" name="__codelineno-5-120"></a>        <span class="c1"># 设置打开摄像头的按钮和样式</span>
<a id="__codelineno-5-121" name="__codelineno-5-121"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-5-122" name="__codelineno-5-122"></a>                                          <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-5-123" name="__codelineno-5-123"></a>                                          <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-5-124" name="__codelineno-5-124"></a>                                          <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-5-125" name="__codelineno-5-125"></a>                                          <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-5-126" name="__codelineno-5-126"></a>                                          <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-5-127" name="__codelineno-5-127"></a>                                          <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-128" name="__codelineno-5-128"></a>        <span class="c1"># 设置选择文件的的按钮和样式</span>
<a id="__codelineno-5-129" name="__codelineno-5-129"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;开始识别（选择文件）&quot;</span><span class="p">)</span>
<a id="__codelineno-5-130" name="__codelineno-5-130"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-5-131" name="__codelineno-5-131"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-5-132" name="__codelineno-5-132"></a>                                    <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-5-133" name="__codelineno-5-133"></a>                                    <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-5-134" name="__codelineno-5-134"></a>                                    <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-5-135" name="__codelineno-5-135"></a>                                    <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-5-136" name="__codelineno-5-136"></a>                                    <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-5-137" name="__codelineno-5-137"></a>                                    <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-138" name="__codelineno-5-138"></a>        <span class="c1"># 设置结束演示的按钮和样式</span>
<a id="__codelineno-5-139" name="__codelineno-5-139"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;结束检测&quot;</span><span class="p">)</span>
<a id="__codelineno-5-140" name="__codelineno-5-140"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font_v</span><span class="p">)</span>
<a id="__codelineno-5-141" name="__codelineno-5-141"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QPushButton{color:white}&quot;</span>
<a id="__codelineno-5-142" name="__codelineno-5-142"></a>                                     <span class="s2">&quot;QPushButton:hover{background-color: rgb(2,110,180);}&quot;</span>
<a id="__codelineno-5-143" name="__codelineno-5-143"></a>                                     <span class="s2">&quot;QPushButton{background-color:rgb(48,124,208)}&quot;</span>
<a id="__codelineno-5-144" name="__codelineno-5-144"></a>                                     <span class="s2">&quot;QPushButton{border:2px}&quot;</span>
<a id="__codelineno-5-145" name="__codelineno-5-145"></a>                                     <span class="s2">&quot;QPushButton{border-radius:5px}&quot;</span>
<a id="__codelineno-5-146" name="__codelineno-5-146"></a>                                     <span class="s2">&quot;QPushButton{padding:5px 5px}&quot;</span>
<a id="__codelineno-5-147" name="__codelineno-5-147"></a>                                     <span class="s2">&quot;QPushButton{margin:5px 5px}&quot;</span><span class="p">)</span>
<a id="__codelineno-5-148" name="__codelineno-5-148"></a>        <span class="c1"># 将组件添加到布局上</span>
<a id="__codelineno-5-149" name="__codelineno-5-149"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_local</span><span class="p">)</span>
<a id="__codelineno-5-150" name="__codelineno-5-150"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
<a id="__codelineno-5-151" name="__codelineno-5-151"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
<a id="__codelineno-5-152" name="__codelineno-5-152"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-5-153" name="__codelineno-5-153"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_title2</span><span class="p">)</span>
<a id="__codelineno-5-154" name="__codelineno-5-154"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="p">)</span>
<a id="__codelineno-5-155" name="__codelineno-5-155"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-5-156" name="__codelineno-5-156"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_open_rsmtp</span><span class="p">)</span>
<a id="__codelineno-5-157" name="__codelineno-5-157"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="p">)</span>
<a id="__codelineno-5-158" name="__codelineno-5-158"></a>        <span class="n">video_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="p">)</span>
<a id="__codelineno-5-159" name="__codelineno-5-159"></a>        <span class="n">video_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">video_layout</span><span class="p">)</span>
<a id="__codelineno-5-160" name="__codelineno-5-160"></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-5-161" name="__codelineno-5-161"></a><span class="sd">        *** 5. 关于界面 ***</span>
<a id="__codelineno-5-162" name="__codelineno-5-162"></a><span class="sd">        &#39;&#39;&#39;</span>
<a id="__codelineno-5-163" name="__codelineno-5-163"></a>        <span class="n">about_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<a id="__codelineno-5-164" name="__codelineno-5-164"></a>        <span class="n">about_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
<a id="__codelineno-5-165" name="__codelineno-5-165"></a>        <span class="n">about_title</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;欢迎使用人脸检测系统</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># todo 修改欢迎词语</span>
<a id="__codelineno-5-166" name="__codelineno-5-166"></a>        <span class="n">about_title</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>
<a id="__codelineno-5-167" name="__codelineno-5-167"></a>        <span class="n">about_title</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-5-168" name="__codelineno-5-168"></a>        <span class="n">about_img</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>
<a id="__codelineno-5-169" name="__codelineno-5-169"></a>        <span class="n">about_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s1">&#39;UI_images/san.png&#39;</span><span class="p">))</span>
<a id="__codelineno-5-170" name="__codelineno-5-170"></a>        <span class="n">about_img</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
<a id="__codelineno-5-171" name="__codelineno-5-171"></a>
<a id="__codelineno-5-172" name="__codelineno-5-172"></a>        <span class="n">label_super</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">()</span>  <span class="c1"># todo 更换作者信息</span>
<a id="__codelineno-5-173" name="__codelineno-5-173"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&lt;a href=&#39;https://wcowin.work/&#39;&gt;--&gt;联系我&lt;/a&gt;&quot;</span><span class="p">)</span>
<a id="__codelineno-5-174" name="__codelineno-5-174"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QFont</span><span class="p">(</span><span class="s1">&#39;楷体&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-5-175" name="__codelineno-5-175"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setOpenExternalLinks</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-176" name="__codelineno-5-176"></a>        <span class="c1"># label_super.setOpenExternalLinks(True)</span>
<a id="__codelineno-5-177" name="__codelineno-5-177"></a>        <span class="n">label_super</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignRight</span><span class="p">)</span>
<a id="__codelineno-5-178" name="__codelineno-5-178"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">about_title</span><span class="p">)</span>
<a id="__codelineno-5-179" name="__codelineno-5-179"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span>
<a id="__codelineno-5-180" name="__codelineno-5-180"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">about_img</span><span class="p">)</span>
<a id="__codelineno-5-181" name="__codelineno-5-181"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span>
<a id="__codelineno-5-182" name="__codelineno-5-182"></a>        <span class="n">about_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label_super</span><span class="p">)</span>
<a id="__codelineno-5-183" name="__codelineno-5-183"></a>        <span class="n">about_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">about_layout</span><span class="p">)</span>
<a id="__codelineno-5-184" name="__codelineno-5-184"></a>        <span class="c1"># 分别添加子页面</span>
<a id="__codelineno-5-185" name="__codelineno-5-185"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">img_widget</span><span class="p">,</span> <span class="s2">&quot;上传人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-5-186" name="__codelineno-5-186"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">video_widget</span><span class="p">,</span> <span class="s1">&#39;视频检测&#39;</span><span class="p">)</span>
<a id="__codelineno-5-187" name="__codelineno-5-187"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">about_widget</span><span class="p">,</span> <span class="s1">&#39;关于&#39;</span><span class="p">)</span>
<a id="__codelineno-5-188" name="__codelineno-5-188"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/图片.png&#39;</span><span class="p">))</span>
<a id="__codelineno-5-189" name="__codelineno-5-189"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/图片.png&#39;</span><span class="p">))</span>
<a id="__codelineno-5-190" name="__codelineno-5-190"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/直播.png&#39;</span><span class="p">))</span>
<a id="__codelineno-5-191" name="__codelineno-5-191"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setTabIcon</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;UI_images/logo_about.png&#39;</span><span class="p">))</span>
<a id="__codelineno-5-192" name="__codelineno-5-192"></a>
<a id="__codelineno-5-193" name="__codelineno-5-193"></a>    <span class="c1"># 第一个界面的函数</span>
<a id="__codelineno-5-194" name="__codelineno-5-194"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">up_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-195" name="__codelineno-5-195"></a>        <span class="c1"># 打开文件选择框</span>
<a id="__codelineno-5-196" name="__codelineno-5-196"></a>        <span class="n">openfile_name</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;选择文件&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Image files(*.jpg , *.png)&#39;</span><span class="p">)</span>
<a id="__codelineno-5-197" name="__codelineno-5-197"></a>        <span class="c1"># 获取上传的文件名称</span>
<a id="__codelineno-5-198" name="__codelineno-5-198"></a>        <span class="n">img_name</span> <span class="o">=</span> <span class="n">openfile_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-199" name="__codelineno-5-199"></a>        <span class="k">if</span> <span class="n">img_name</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
<a id="__codelineno-5-200" name="__codelineno-5-200"></a>            <span class="k">pass</span>
<a id="__codelineno-5-201" name="__codelineno-5-201"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-202" name="__codelineno-5-202"></a>            <span class="c1"># 上传之后显示并做归一化处理</span>
<a id="__codelineno-5-203" name="__codelineno-5-203"></a>            <span class="n">src_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_name</span><span class="p">)</span>
<a id="__codelineno-5-204" name="__codelineno-5-204"></a>            <span class="n">src_img_height</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-205" name="__codelineno-5-205"></a>            <span class="n">src_img_width</span> <span class="o">=</span> <span class="n">src_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-5-206" name="__codelineno-5-206"></a>            <span class="n">target_img_height</span> <span class="o">=</span> <span class="mi">400</span>
<a id="__codelineno-5-207" name="__codelineno-5-207"></a>            <span class="n">ratio</span> <span class="o">=</span> <span class="n">target_img_height</span> <span class="o">/</span> <span class="n">src_img_height</span>
<a id="__codelineno-5-208" name="__codelineno-5-208"></a>            <span class="n">target_img_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">src_img_width</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">)</span>
<a id="__codelineno-5-209" name="__codelineno-5-209"></a>            <span class="c1"># 将图片统一处理到高为400的图片，方便在界面上显示</span>
<a id="__codelineno-5-210" name="__codelineno-5-210"></a>            <span class="n">target_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">src_img</span><span class="p">,</span> <span class="p">(</span><span class="n">target_img_width</span><span class="p">,</span> <span class="n">target_img_height</span><span class="p">))</span>
<a id="__codelineno-5-211" name="__codelineno-5-211"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">,</span> <span class="n">target_img</span><span class="p">)</span>
<a id="__codelineno-5-212" name="__codelineno-5-212"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">img_f_img</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-5-213" name="__codelineno-5-213"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span> <span class="o">=</span> <span class="s2">&quot;UI_images/tmp/toup.jpg&quot;</span>
<a id="__codelineno-5-214" name="__codelineno-5-214"></a>
<a id="__codelineno-5-215" name="__codelineno-5-215"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">up_db_img</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-216" name="__codelineno-5-216"></a>        <span class="n">face_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">face_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<a id="__codelineno-5-217" name="__codelineno-5-217"></a>        <span class="c1"># Convert the face name to a utf-8 encoded string</span>
<a id="__codelineno-5-218" name="__codelineno-5-218"></a>        <span class="n">face_name</span> <span class="o">=</span> <span class="n">face_name</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<a id="__codelineno-5-219" name="__codelineno-5-219"></a>
<a id="__codelineno-5-220" name="__codelineno-5-220"></a>        <span class="k">if</span> <span class="n">face_name</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<a id="__codelineno-5-221" name="__codelineno-5-221"></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;不能为空&quot;</span><span class="p">,</span> <span class="s2">&quot;请填写人脸姓名&quot;</span><span class="p">)</span>
<a id="__codelineno-5-222" name="__codelineno-5-222"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-223" name="__codelineno-5-223"></a>            <span class="n">load_image</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">load_image_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span><span class="p">)</span>
<a id="__codelineno-5-224" name="__codelineno-5-224"></a>            <span class="n">image_face_encoding</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">load_image</span><span class="p">)</span>
<a id="__codelineno-5-225" name="__codelineno-5-225"></a>            <span class="n">encoding_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">image_face_encoding</span><span class="p">)</span>
<a id="__codelineno-5-226" name="__codelineno-5-226"></a>            <span class="k">if</span> <span class="n">encoding_length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-5-227" name="__codelineno-5-227"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;请重新上传&quot;</span><span class="p">,</span> <span class="s2">&quot;当前图片没有发现人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-5-228" name="__codelineno-5-228"></a>            <span class="k">elif</span> <span class="n">encoding_length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-5-229" name="__codelineno-5-229"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;请重新上传&quot;</span><span class="p">,</span> <span class="s2">&quot;当前图片发现多张人脸&quot;</span><span class="p">)</span>
<a id="__codelineno-5-230" name="__codelineno-5-230"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-231" name="__codelineno-5-231"></a>                <span class="n">face_encoding</span> <span class="o">=</span> <span class="n">image_face_encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-232" name="__codelineno-5-232"></a>                <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">up_img_name</span><span class="p">)</span>
<a id="__codelineno-5-233" name="__codelineno-5-233"></a>                <span class="n">img_path</span> <span class="o">=</span> <span class="n">face_name</span> <span class="o">+</span> <span class="s1">&#39;.jpg&#39;</span>
<a id="__codelineno-5-234" name="__codelineno-5-234"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;images/db_faces/&quot;</span> <span class="o">+</span> <span class="n">img_path</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
<a id="__codelineno-5-235" name="__codelineno-5-235"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_name</span><span class="p">)</span>
<a id="__codelineno-5-236" name="__codelineno-5-236"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_encoding</span><span class="p">)</span>
<a id="__codelineno-5-237" name="__codelineno-5-237"></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;上传成功&quot;</span><span class="p">,</span> <span class="s2">&quot;数据已上传！&quot;</span><span class="p">)</span>
<a id="__codelineno-5-238" name="__codelineno-5-238"></a>
<a id="__codelineno-5-239" name="__codelineno-5-239"></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-5-240" name="__codelineno-5-240"></a><span class="sd">    ### 3. 视频识别相关功能 ### </span>
<a id="__codelineno-5-241" name="__codelineno-5-241"></a><span class="sd">    &#39;&#39;&#39;</span>
<a id="__codelineno-5-242" name="__codelineno-5-242"></a>
<a id="__codelineno-5-243" name="__codelineno-5-243"></a>    <span class="c1"># 关闭事件 询问用户是否退出</span>
<a id="__codelineno-5-244" name="__codelineno-5-244"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<a id="__codelineno-5-245" name="__codelineno-5-245"></a>        <span class="n">reply</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-5-246" name="__codelineno-5-246"></a>                                     <span class="s1">&#39;退出&#39;</span><span class="p">,</span>
<a id="__codelineno-5-247" name="__codelineno-5-247"></a>                                     <span class="s2">&quot;是否要退出程序？&quot;</span><span class="p">,</span>
<a id="__codelineno-5-248" name="__codelineno-5-248"></a>                                     <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
<a id="__codelineno-5-249" name="__codelineno-5-249"></a>                                     <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
<a id="__codelineno-5-250" name="__codelineno-5-250"></a>        <span class="k">if</span> <span class="n">reply</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
<a id="__codelineno-5-251" name="__codelineno-5-251"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-5-252" name="__codelineno-5-252"></a>            <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
<a id="__codelineno-5-253" name="__codelineno-5-253"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-254" name="__codelineno-5-254"></a>            <span class="n">event</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>
<a id="__codelineno-5-255" name="__codelineno-5-255"></a>
<a id="__codelineno-5-256" name="__codelineno-5-256"></a>    <span class="c1"># 读取录像文件</span>
<a id="__codelineno-5-257" name="__codelineno-5-257"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-258" name="__codelineno-5-258"></a>        <span class="c1"># 选择录像文件进行读取</span>
<a id="__codelineno-5-259" name="__codelineno-5-259"></a>        <span class="n">mp4_fileName</span><span class="p">,</span> <span class="n">fileType</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Choose file&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;*.mp4&#39;</span><span class="p">)</span>
<a id="__codelineno-5-260" name="__codelineno-5-260"></a>        <span class="k">if</span> <span class="n">mp4_fileName</span><span class="p">:</span>
<a id="__codelineno-5-261" name="__codelineno-5-261"></a>            <span class="c1"># 启动录像文件读取得线程并在画面上实时显示</span>
<a id="__codelineno-5-262" name="__codelineno-5-262"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">mp4_fileName</span>
<a id="__codelineno-5-263" name="__codelineno-5-263"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
<a id="__codelineno-5-264" name="__codelineno-5-264"></a>            <span class="n">th</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_video</span><span class="p">)</span>
<a id="__codelineno-5-265" name="__codelineno-5-265"></a>            <span class="n">th</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-5-266" name="__codelineno-5-266"></a>
<a id="__codelineno-5-267" name="__codelineno-5-267"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open_local</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-268" name="__codelineno-5-268"></a>        <span class="c1"># 选择录像文件进行读取</span>
<a id="__codelineno-5-269" name="__codelineno-5-269"></a>        <span class="n">mp4_filename</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-5-270" name="__codelineno-5-270"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">mp4_filename</span>
<a id="__codelineno-5-271" name="__codelineno-5-271"></a>        <span class="c1"># 读取摄像头进行实时得显示</span>
<a id="__codelineno-5-272" name="__codelineno-5-272"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
<a id="__codelineno-5-273" name="__codelineno-5-273"></a>        <span class="n">th</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">display_video</span><span class="p">)</span>
<a id="__codelineno-5-274" name="__codelineno-5-274"></a>        <span class="n">th</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-5-275" name="__codelineno-5-275"></a>
<a id="__codelineno-5-276" name="__codelineno-5-276"></a>    <span class="c1"># 退出进程</span>
<a id="__codelineno-5-277" name="__codelineno-5-277"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-278" name="__codelineno-5-278"></a>        <span class="c1"># 点击关闭按钮后重新初始化界面</span>
<a id="__codelineno-5-279" name="__codelineno-5-279"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<a id="__codelineno-5-280" name="__codelineno-5-280"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-5-281" name="__codelineno-5-281"></a>
<a id="__codelineno-5-282" name="__codelineno-5-282"></a>    <span class="c1">#转换中文显示</span>
<a id="__codelineno-5-283" name="__codelineno-5-283"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">nameText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">img</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">textColor</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">textSize</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<a id="__codelineno-5-284" name="__codelineno-5-284"></a>        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>  <span class="c1"># 判断是否OpenCV图片类型</span>
<a id="__codelineno-5-285" name="__codelineno-5-285"></a>            <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">))</span>
<a id="__codelineno-5-286" name="__codelineno-5-286"></a>        <span class="c1"># 创建一个可以在给定图像上绘图的对象</span>
<a id="__codelineno-5-287" name="__codelineno-5-287"></a>        <span class="n">face_draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<a id="__codelineno-5-288" name="__codelineno-5-288"></a>        <span class="c1"># 显示字体的格式</span>
<a id="__codelineno-5-289" name="__codelineno-5-289"></a>        <span class="n">name_font</span><span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="s2">&quot;simsun.ttc&quot;</span><span class="p">,</span> <span class="n">textSize</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<a id="__codelineno-5-290" name="__codelineno-5-290"></a>        <span class="c1"># 绘制人脸名称文本</span>
<a id="__codelineno-5-291" name="__codelineno-5-291"></a>        <span class="n">face_draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">textColor</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">name_font</span><span class="p">)</span>
<a id="__codelineno-5-292" name="__codelineno-5-292"></a>        <span class="c1"># 转换回OpenCV格式</span>
<a id="__codelineno-5-293" name="__codelineno-5-293"></a>        <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">img</span><span class="p">),</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_RGB2BGR</span><span class="p">)</span>
<a id="__codelineno-5-294" name="__codelineno-5-294"></a>
<a id="__codelineno-5-295" name="__codelineno-5-295"></a>    <span class="c1"># todo 执行人脸识别主进程</span>
<a id="__codelineno-5-296" name="__codelineno-5-296"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">display_video</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-297" name="__codelineno-5-297"></a>        <span class="c1"># 首先把打开按钮关闭</span>
<a id="__codelineno-5-298" name="__codelineno-5-298"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-5-299" name="__codelineno-5-299"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-300" name="__codelineno-5-300"></a>        <span class="n">process_this_frame</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-5-301" name="__codelineno-5-301"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-5-302" name="__codelineno-5-302"></a>            <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># 读取摄像头</span>
<a id="__codelineno-5-303" name="__codelineno-5-303"></a>            <span class="c1"># opencv的图像是BGR格式的，而我们需要是的RGB格式的，因此需要进行一个转换。</span>
<a id="__codelineno-5-304" name="__codelineno-5-304"></a>            <span class="n">rgb_frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>  <span class="c1"># 将图像转化为rgb颜色通道</span>
<a id="__codelineno-5-305" name="__codelineno-5-305"></a>            <span class="c1"># gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span>
<a id="__codelineno-5-306" name="__codelineno-5-306"></a>            <span class="c1"># 检查人脸 按照1.1倍放到 周围最小像素为5</span>
<a id="__codelineno-5-307" name="__codelineno-5-307"></a>            <span class="c1"># face_zone = self.face_detect.detectMultiScale(gray_frame, scaleFactor=2, minNeighbors=2)  # maxSize = (55,55)</span>
<a id="__codelineno-5-308" name="__codelineno-5-308"></a>            <span class="k">if</span> <span class="n">process_this_frame</span><span class="p">:</span>
<a id="__codelineno-5-309" name="__codelineno-5-309"></a>                <span class="n">face_locations</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_locations</span><span class="p">(</span><span class="n">rgb_frame</span><span class="p">)</span>  <span class="c1"># 获得所有人脸位置</span>
<a id="__codelineno-5-310" name="__codelineno-5-310"></a>                <span class="n">face_encodings</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">face_encodings</span><span class="p">(</span><span class="n">rgb_frame</span><span class="p">,</span> <span class="n">face_locations</span><span class="p">)</span>  <span class="c1"># 获得人脸特征值</span>
<a id="__codelineno-5-311" name="__codelineno-5-311"></a>                <span class="n">face_names</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># 存储出现在画面中人脸的名字</span>
<a id="__codelineno-5-312" name="__codelineno-5-312"></a>                <span class="k">for</span> <span class="n">face_encoding</span> <span class="ow">in</span> <span class="n">face_encodings</span><span class="p">:</span>  <span class="c1"># 和数据库人脸进行对比</span>
<a id="__codelineno-5-313" name="__codelineno-5-313"></a>                    <span class="c1"># 如果当前人脸和数据库的人脸的相似度超过0.6，则认为人脸匹配</span>
<a id="__codelineno-5-314" name="__codelineno-5-314"></a>                    <span class="n">matches</span> <span class="o">=</span> <span class="n">face_recognition</span><span class="o">.</span><span class="n">compare_faces</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">known_encodings</span><span class="p">,</span> <span class="n">face_encoding</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<a id="__codelineno-5-315" name="__codelineno-5-315"></a>                    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
<a id="__codelineno-5-316" name="__codelineno-5-316"></a>                        <span class="n">first_match_index</span> <span class="o">=</span> <span class="n">matches</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-317" name="__codelineno-5-317"></a>                        <span class="c1"># 返回相似度最高的作为当前人脸的名称</span>
<a id="__codelineno-5-318" name="__codelineno-5-318"></a>                        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">known_names</span><span class="p">[</span><span class="n">first_match_index</span><span class="p">]</span>
<a id="__codelineno-5-319" name="__codelineno-5-319"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-5-320" name="__codelineno-5-320"></a>                        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;未知人脸&quot;</span>
<a id="__codelineno-5-321" name="__codelineno-5-321"></a>                    <span class="n">face_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-5-322" name="__codelineno-5-322"></a>            <span class="n">process_this_frame</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">process_this_frame</span>
<a id="__codelineno-5-323" name="__codelineno-5-323"></a>            <span class="c1"># 将捕捉到的人脸显示出来</span>
<a id="__codelineno-5-324" name="__codelineno-5-324"></a>            <span class="k">for</span> <span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">left</span><span class="p">),</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">face_locations</span><span class="p">,</span> <span class="n">face_names</span><span class="p">):</span>
<a id="__codelineno-5-325" name="__codelineno-5-325"></a>                <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">),</span> <span class="p">(</span><span class="mi">113</span><span class="p">,</span><span class="mi">152</span><span class="p">,</span><span class="mi">248</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 画人脸矩形框</span>
<a id="__codelineno-5-326" name="__codelineno-5-326"></a>                <span class="k">if</span> <span class="n">name</span><span class="o">!=</span><span class="s1">&#39;未知人脸&#39;</span><span class="p">:</span>
<a id="__codelineno-5-327" name="__codelineno-5-327"></a>                    <span class="n">name_list</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-5-328" name="__codelineno-5-328"></a>                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)):</span>
<a id="__codelineno-5-329" name="__codelineno-5-329"></a>                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">3</span> <span class="ow">and</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-5-330" name="__codelineno-5-330"></a>                            <span class="n">name_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;*&quot;</span>
<a id="__codelineno-5-331" name="__codelineno-5-331"></a>                        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span> <span class="ow">and</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span> <span class="p">:</span>
<a id="__codelineno-5-332" name="__codelineno-5-332"></a>                            <span class="n">name_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;*&quot;</span>
<a id="__codelineno-5-333" name="__codelineno-5-333"></a>                    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">name_list</span><span class="p">)</span>
<a id="__codelineno-5-334" name="__codelineno-5-334"></a>                <span class="n">frame</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nameText</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">name</span><span class="p">,(</span><span class="n">left</span><span class="o">+</span><span class="mi">55</span><span class="p">,</span> <span class="n">bottom</span><span class="o">+</span><span class="mi">15</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-5-335" name="__codelineno-5-335"></a>
<a id="__codelineno-5-336" name="__codelineno-5-336"></a>
<a id="__codelineno-5-337" name="__codelineno-5-337"></a>            <span class="c1"># 保存图片并进行实时的显示</span>
<a id="__codelineno-5-338" name="__codelineno-5-338"></a>            <span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
<a id="__codelineno-5-339" name="__codelineno-5-339"></a>            <span class="n">frame_height</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-340" name="__codelineno-5-340"></a>            <span class="n">frame_width</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-5-341" name="__codelineno-5-341"></a>            <span class="n">frame_scale</span> <span class="o">=</span> <span class="mi">500</span> <span class="o">/</span> <span class="n">frame_height</span>
<a id="__codelineno-5-342" name="__codelineno-5-342"></a>            <span class="n">frame_resize</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">frame_width</span> <span class="o">*</span> <span class="n">frame_scale</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">frame_height</span> <span class="o">*</span> <span class="n">frame_scale</span><span class="p">)))</span>
<a id="__codelineno-5-343" name="__codelineno-5-343"></a>            <span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s2">&quot;images/tmp.jpg&quot;</span><span class="p">,</span> <span class="n">frame_resize</span><span class="p">)</span>
<a id="__codelineno-5-344" name="__codelineno-5-344"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;images/tmp.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-5-345" name="__codelineno-5-345"></a>            <span class="k">if</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">is_set</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-5-346" name="__codelineno-5-346"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stopEvent</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-5-347" name="__codelineno-5-347"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-5-348" name="__codelineno-5-348"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-5-349" name="__codelineno-5-349"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-350" name="__codelineno-5-350"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-5-351" name="__codelineno-5-351"></a>                <span class="k">break</span>
<a id="__codelineno-5-352" name="__codelineno-5-352"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_open</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-5-353" name="__codelineno-5-353"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_close</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-5-354" name="__codelineno-5-354"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_down</span><span class="p">()</span>
<a id="__codelineno-5-355" name="__codelineno-5-355"></a>
<a id="__codelineno-5-356" name="__codelineno-5-356"></a>    <span class="c1"># 初始化视频检测界面</span>
<a id="__codelineno-5-357" name="__codelineno-5-357"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">set_down</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-5-358" name="__codelineno-5-358"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
<a id="__codelineno-5-359" name="__codelineno-5-359"></a>        <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
<a id="__codelineno-5-360" name="__codelineno-5-360"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">DisplayLabel</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;UI_images/ae862.jpg&quot;</span><span class="p">))</span>
<a id="__codelineno-5-361" name="__codelineno-5-361"></a>
<a id="__codelineno-5-362" name="__codelineno-5-362"></a>
<a id="__codelineno-5-363" name="__codelineno-5-363"></a>
<a id="__codelineno-5-364" name="__codelineno-5-364"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-5-365" name="__codelineno-5-365"></a>    <span class="c1"># 加载页面</span>
<a id="__codelineno-5-366" name="__codelineno-5-366"></a>    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<a id="__codelineno-5-367" name="__codelineno-5-367"></a>    <span class="n">mainWindow</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
<a id="__codelineno-5-368" name="__codelineno-5-368"></a>    <span class="n">mainWindow</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-5-369" name="__codelineno-5-369"></a>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
<h2 id="_5">参考文献<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>[1] 龙慧,朱孟春,邓娅倩等.基于 OpenCV 的智能校园人脸门禁系统的设计与实现[J].工业控制 计算机,2023,36(09):73-75.<br />
[2] 冯婧,顾梅花.基于 OpenCV 的人脸识别算法研究与实现[J].电脑知识与技 术,2020,16(14):3-5.DOI:10.14004/j.cnki.ckt.2020.1473<br />
[3] 廖周宇,王钰婷,陈科良.基于 OpenCV 的人脸识别算法[J].电子技术与软件工 程,2020,(09):133-136.<br />
[4] 李颖聪,陈贝文,廖晓芳等.基于 OpenCV 的人脸识别系统设计与实现[J].电脑知识与技 术,2022,18(18):53-55.DOI:10.14004/j.cnki.ckt.2022.1155<br />
[5] 张绿云,韦肖雨,李琳.基于Python与OpenCV的人脸识别系统设计与实现[J].电脑知识与技 术,2022,18(10):87-88.DOI:10.14004/j.cnki.ckt.2022.0783<br />
[6] 黄安祺, &amp; 陈争奇. (2017). 基于 OpenCV 的人脸识别技术研究. 电子技术与软件工程, 16(13), 36-37.<br />
[7] 郑亚军, &amp; 王丽娟. (2019). 基于 OpenCV 的人脸识别技术研究与实现. 电子技术与软件工 程, 18(5), 46-48.<br />
[8] 王志敏, &amp; 刘杰. (2019). 基于 OpenCV 的人脸识别算法研究与实现. 现代计算机, (11), 26-28.<br />
[9] 张海波, &amp; 王振华. (2019). 基于 OpenCV 的人脸识别算法研究与实现. 计算机与数字工程, (6), 169-170.<br />
[10] 赵宇航, &amp; 张晓艳. (2018). 基于 OpenCV 的人脸识别算法研究与实现. 现代计算机, (12), 16-18.  </p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2025-01-02</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-09-22</span>
  </span>

    
    
    
  </aside>

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine feedback configuration -->

  


<!-- Determine whether to show feedback -->


<!-- Was this page helpful? -->

  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        此页面有帮助吗？
      </legend>
      <div class="md-feedback__inner">

        <!-- Feedback ratings -->
        <div class="md-feedback__list">
          
            <button
              class="md-feedback__icon md-icon"
              type="submit"
              title="This page was helpful"
              data-md-value="1"
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button
              class="md-feedback__icon md-icon"
              type="submit"
              title="This page could be improved"
              data-md-value="0"
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>

        <!-- Feedback rating notes (shown after submission) -->
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              

              <!-- Determine title -->
              
                
              

              <!-- Replace {url} and {title} placeholders in note -->
              谢谢你的反馈！
            </div>
          
            <div data-md-value="0" hidden>
              

              <!-- Determine title -->
              
                
              

              <!-- Replace {url} and {title} placeholders in note -->
              Thanks for your feedback! Help us improve this page by using our <a href="https://marketingplatform.google.com/about/analytics/" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    
      
      <nav
        class="md-footer__inner md-grid"
        aria-label="Footer"
        
      >

        <!-- Link to previous page -->
        
          
          <a
            href="mkdocs-wcowin.html"
            class="md-footer__link md-footer__link--prev"
            aria-label="Previous: Mkdocs-Wcowin主题"
          >
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Mkdocs-Wcowin主题
              </div>
            </div>
            
          </a>
        

        <!-- Link to next page -->
        
          
          <a
            href="face_compare.html"
            class="md-footer__link md-footer__link--next"
            aria-label="Next: 基于讯飞人脸算法进行人脸比对"
          >
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                基于讯飞人脸算法进行人脸比对
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022~2024 Wcowin/All Rights Reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      <div class="footer-visit-count" style="display: flex; justify-content: center; align-items: center;">
    本站访问量：<script async src="//finicounter.eu.org/finicounter.js"></script>
    <span id="finicount_views"></span>    &nbsp;|&nbsp;
      <a href="https://icp.gov.moe/?keyword=20230640" target="_blank">萌ICP备20230640号</a>
      <!-- <a href="https://ipw.cn/ipv6webcheck/?site=wcowin.work/" title="本站支持IPv6访问" target='_blank'><img style='display:inline-block;vertical-align:middle' alt="本站支持IPv6访问" src="https://static.ipw.cn/icon/ipv6-s1.svg"></a> -->
  </div>
  
      <style>
        .footer-visit-count {
            height: fit-content;
            min-height: 55px; /* 根据实际情况调整此高度 */
        }
        </style>
        
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://s1.imagehub.cc/images/2024/02/02/bb9ee71b03ee7a3b87caad5cc4bcebff.jpeg" target="_blank" rel="noopener" title="Wechat" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154m-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4m-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2M563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4m-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6m107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6"/></svg>
    </a>
  
    
    
    
    
    <a href="https://t.me/wecowin" target="_blank" rel="noopener" title="telegram" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8m114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716 43.8 43.8 0 0 1 .417 9.769"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/wcowin_" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/Wcowin" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://blog.csdn.net/m0_63203517?spm=1000.2115.3001.5343" target="_blank" rel="noopener" title="CSDN" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0zm192 0v128h128zM153 289l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L71 337c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zm112-34 48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<wangkewen821@gmail.com>" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "navigation.expand", "navigation.indexes", "content.tabs.link", "content.tooltips", "content.code.copy", "content.code.select", "content.action.edit", "content.action.view", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/gh/Wcowin/Wcowin.github.io@main/docs/javascripts/extra.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../javascripts/geren.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "fade", "closeEffect": "fade", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>